(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{683:function(n,i,t){var e=t(920);"string"==typeof e&&(e=[[n.i,e,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(156)(e,o);e.locals&&(n.exports=e.locals)},684:function(n,i,t){var e=t(922);"string"==typeof e&&(e=[[n.i,e,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(156)(e,o);e.locals&&(n.exports=e.locals)},685:function(n,i,t){var e=t(924);"string"==typeof e&&(e=[[n.i,e,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(156)(e,o);e.locals&&(n.exports=e.locals)},704:function(n,i,t){n.exports={default:t(917),__esModule:!0}},917:function(n,i,t){t(160),t(158),n.exports=t(918)},918:function(n,i,t){var e=t(37),o=t(229);n.exports=t(23).getIterator=function(n){var i=o(n);if("function"!=typeof i)throw TypeError(n+" is not iterable!");return e(i.call(n))}},919:function(n,i,t){"use strict";var e=t(683);t.n(e).a},920:function(n,i,t){(n.exports=t(155)(!1)).push([n.i,"\n.popupWindow-cloak[data-v-3383350a] {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 10;\n  opacity: 0.7;\n  background: #000000;\n}\n.popupWindow-popupWindow[data-v-3383350a] {\n  z-index: 11;\n  position: fixed;\n  left: 0%;\n  top: 25%;\n  bottom: 0;\n  right: 0;\n  text-align: center;\n}\n.popupWindow-popupWindow .popupWindow-popupWindow-title[data-v-3383350a] {\n    color: #222222;\n    letter-spacing: 0;\n    line-height: 24px;\n    text-align: center;\n}\n.popupWindow-popupWindow .el-message-box[data-v-3383350a] {\n    width: 380px;\n    height: 447px;\n}\n.popupWindow-popupWindow .el-message-box .el-message-box__btns[data-v-3383350a] {\n      padding: 10px 15px 0;\n      text-align: center;\n}\n.popupWindow-popupWindow .el-message-box .el-message-box__btns .popupWindow-popupWindow-submit[data-v-3383350a] {\n        cursor: pointer;\n        width: 160px;\n        height: 41px;\n        background: #4B67D6;\n        border-radius: 3px;\n        font-family: PingFangSC-Regular;\n        font-size: 15px;\n        color: #FFFFFF;\n        letter-spacing: 0;\n        text-align: center;\n        line-height: 15px;\n}\n.popupWindow-popupWindow .el-message-box .el-message-box__btns .popupWindow-popupWindow-submitDefault[data-v-3383350a] {\n        cursor: pointer;\n        width: 160px;\n        height: 41px;\n        background: #b5b8c3;\n        border-radius: 3px;\n        font-family: PingFangSC-Regular;\n        font-size: 15px;\n        color: #FFFFFF;\n        letter-spacing: 0;\n        text-align: center;\n        line-height: 15px;\n}\n.popupWindow-popupWindow .el-message-box .el-message-box__content[data-v-3383350a] {\n      position: relative;\n      padding: 28px 45px;\n      color: #606266;\n      font-size: 14px;\n}\n.popupWindow-popupWindow .el-message-box .el-message-box__content .popupWindow-popupWindow-photoWrap .popupWindow-popupWindow-groupPhoto[data-v-3383350a] {\n        margin-top: 18px;\n        width: 250px;\n        height: 250px;\n        margin: 0 auto;\n}\n.popupWindow-popupWindow .el-message-box .el-message-box__content .popupWindow-popupWindow-addPhoto[data-v-3383350a] {\n        width: 250px;\n        height: 250px;\n        background: #F7F9FC;\n        border: 1px solid #E6E6E8;\n        border-radius: 4px;\n        float: left;\n        z-index: 1;\n}\n.popupWindow-popupWindow .el-message-box .el-message-box__content .popupWindow-popupWindow-addPhoto .popupWindow-popupWindow-addPhotoDesc[data-v-3383350a] {\n          font-family: PingFangSC-Regular;\n          font-size: 15px;\n          color: #4B67D6;\n          letter-spacing: 0;\n          text-align: right;\n          line-height: 15px;\n          position: relative;\n          left: 95px;\n          width: 60px;\n          top: 100px;\n}\n.popupWindow-popupWindow .el-message-box .el-message-box__content .popupWindow-popupWindow-addPhoto .popupWindow-popupWindow-addFlag[data-v-3383350a] {\n          position: relative;\n          left: 108px;\n          top: 92px;\n}\n.popupWindow-popupWindow .el-message-box .el-message-box__content .popupWindow-popupWindow-addPhoto input[data-v-3383350a] {\n          width: 250px;\n          height: 250px;\n          cursor: pointer;\n          position: absolute;\n          opacity: 0;\n          outline: none;\n          z-index: 2;\n}\n",""])},921:function(n,i,t){"use strict";var e=t(684);t.n(e).a},922:function(n,i,t){(n.exports=t(155)(!1)).push([n.i,"\n.popupWindow-cloak[data-v-313eb4f0] {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 10;\n  opacity: 0.7;\n  background: #000000;\n}\n.popupWindow-popupWindow[data-v-313eb4f0] {\n  z-index: 11;\n  position: fixed;\n  left: 0%;\n  top: 25%;\n  bottom: 0;\n  right: 0;\n  text-align: center;\n}\n.popupWindow-popupWindow .popupWindow-popupWindow-title[data-v-313eb4f0] {\n    color: #222222;\n    letter-spacing: 0;\n    line-height: 24px;\n    text-align: center;\n}\n.popupWindow-popupWindow .popupWindow-popupWindow-item[data-v-313eb4f0] {\n    border: 1px solid #cad1ed;\n    border-radius: 3px;\n    text-align: center;\n    width: 110px;\n    height: 30px;\n    line-height: 30px;\n    font-size: 14px;\n    color: #4B67D6;\n    float: left;\n    margin: 10px;\n    padding: 5px;\n    cursor: pointer;\n}\n.popupWindow-popupWindow .popupWindow-popupWindow-itemChoose[data-v-313eb4f0] {\n    border: 1px solid #cad1ed;\n    border-radius: 3px;\n    text-align: center;\n    width: 110px;\n    height: 30px;\n    line-height: 30px;\n    font-size: 14px;\n    color: #ffffff;\n    float: left;\n    margin: 10px;\n    padding: 5px;\n    cursor: pointer;\n    background: #4B67D6;\n}\n.popupWindow-popupWindow .el-message-box[data-v-313eb4f0] {\n    width: 380px;\n    height: 300px;\n}\n.popupWindow-popupWindow .el-message-box .el-message-box__btns[data-v-313eb4f0] {\n      padding-top: 100px;\n      text-align: center;\n}\n.popupWindow-popupWindow .el-message-box .el-message-box__btns .popupWindow-popupWindow-submitDefault[data-v-313eb4f0] {\n        cursor: pointer;\n        width: 160px;\n        height: 41px;\n        background: #4B67D6;\n        border-radius: 3px;\n        font-family: PingFangSC-Regular;\n        font-size: 15px;\n        color: #FFFFFF;\n        letter-spacing: 0;\n        text-align: center;\n        line-height: 15px;\n        margin-top: 20px;\n}\n.popupWindow-popupWindow .el-message-box .el-message-box__btns .popupWindow-popupWindow-submit[data-v-313eb4f0] {\n        cursor: pointer;\n        width: 160px;\n        height: 41px;\n        background: #b5b8c3;\n        border-radius: 3px;\n        font-family: PingFangSC-Regular;\n        font-size: 15px;\n        color: #FFFFFF;\n        letter-spacing: 0;\n        text-align: center;\n        line-height: 15px;\n        margin-top: 20px;\n}\n.popupWindow-popupWindow .el-message-box .el-message-box__content[data-v-313eb4f0] {\n      position: relative;\n      padding: 28px 45px;\n      color: #606266;\n      font-size: 14px;\n}\n",""])},923:function(n,i,t){"use strict";var e=t(685);t.n(e).a},924:function(n,i,t){(n.exports=t(155)(!1)).push([n.i,"\n.indexBackground .indexBackground-list[data-v-4875c787] {\n  background: #FFFFFF;\n  box-shadow: 0 4px 10px 0 rgba(42, 53, 102, 0.04);\n  border-radius: 3px;\n  margin: 0 auto;\n  width: 880px;\n  height: 543px;\n}\n.indexBackground .indexBackground-list ul[data-v-4875c787] {\n    padding-top: 40px;\n}\n.indexBackground .indexBackground-list ul li[data-v-4875c787] {\n      cursor: pointer;\n      /*width:140px;*/\n      margin-left: 23px;\n      float: left;\n}\n.indexBackground .indexBackground-list ul li .indexBackground-list-cfgTitle[data-v-4875c787] {\n        width: 240px;\n        text-align: center;\n        margin: 10px;\n        font-size: 16px;\n        font-weight: bold;\n}\n.indexBackground .indexBackground-list ul li .indexBackground-list-imgMore[data-v-4875c787] {\n        width: 240px;\n        height: 196px;\n        background: #F7F9FC;\n        border: 1px solid #E6E6E8;\n        border-radius: 3px;\n}\n.indexBackground .indexBackground-list ul li .indexBackground-list-imgMore img[data-v-4875c787] {\n          width: 240px;\n          height: 196px;\n          position: absolute;\n}\n.indexBackground .indexBackground-list ul li .indexBackground-list-imgMore .indexBackground-list-imgClose[data-v-4875c787] {\n          width: 23px;\n          height: 23px;\n          cursor: pointer;\n          float: right;\n          position: relative;\n          z-index: 1;\n          border: 1px solid #c7ced8;\n}\n.indexBackground .indexBackground-list ul li .indexBackground-list-imgMore .indexBackground-list-noImage[data-v-4875c787] {\n          font-family: PingFangSC-Regular;\n          font-size: 15px;\n          color: #4B67D6;\n          letter-spacing: 0;\n          text-align: center;\n          line-height: 15px;\n          position: relative;\n          top: 90.5px;\n}\n.indexBackground .indexBackground-list ul li .indexBackground-list-updateMore[data-v-4875c787] {\n        border: 1px solid #cad1ed;\n        border-radius: 3px;\n        text-align: center;\n        width: 240px;\n        height: 30px;\n        line-height: 30px;\n        font-size: 14px;\n        color: #4B67D6;\n        margin-top: 18px;\n}\n.indexBackground .indexBackground-list ul li .indexBackground-list-img[data-v-4875c787] {\n        width: 375px;\n        height: 196px;\n        background: #F7F9FC;\n        border: 1px solid #E6E6E8;\n        border-radius: 3px;\n}\n.indexBackground .indexBackground-list ul li .indexBackground-list-img img[data-v-4875c787] {\n          width: 375px;\n          height: 196px;\n          position: absolute;\n}\n.indexBackground .indexBackground-list ul li .indexBackground-list-img .indexBackground-list-imgClose[data-v-4875c787] {\n          width: 23px;\n          height: 23px;\n          cursor: pointer;\n          float: right;\n          position: relative;\n          z-index: 1;\n}\n.indexBackground .indexBackground-list ul li .indexBackground-list-img .indexBackground-list-noImage[data-v-4875c787] {\n          font-family: PingFangSC-Regular;\n          font-size: 15px;\n          color: #4B67D6;\n          letter-spacing: 0;\n          text-align: center;\n          line-height: 15px;\n          position: relative;\n          top: 90.5px;\n}\n.indexBackground .indexBackground-list ul li .indexBackground-list-update[data-v-4875c787] {\n        border: 1px solid #cad1ed;\n        border-radius: 3px;\n        text-align: center;\n        width: 375px;\n        height: 30px;\n        line-height: 30px;\n        font-size: 14px;\n        color: #4B67D6;\n        margin-top: 18px;\n}\n.indexBackground .indexBackground-list ul li[data-v-4875c787]:first-child {\n      margin-left: 44px;\n      /*position: absolute;*/\n}\n.indexBackground .indexBackground-list .indexBackground-list-publish[data-v-4875c787] {\n    cursor: pointer;\n    margin: 430px 0 0 696px;\n    width: 138px;\n    height: 32px;\n    background: #3846DC;\n    border-radius: 3px;\n    font-family: PingFangSC-Medium;\n    font-size: 14px;\n    color: #FFFFFF;\n    letter-spacing: 0;\n    text-align: center;\n    line-height: 32px;\n}\n.indexBackground h3[data-v-4875c787] {\n  margin: 36px auto 25px auto;\n  width: 880px;\n  font-family: PingFangSC-Medium;\n  font-size: 20px;\n  color: #2C343A;\n  letter-spacing: 0;\n  line-height: 20px;\n}\n",""])},952:function(n,i,t){"use strict";t.r(i);var e=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("section",{staticClass:"indexBackground"},[e("h3",[t._v(t._s(t.indexImgCfgTitle))]),t._v(" "),e("div",{staticClass:"indexBackground-list"},[e("ul",t._l(t.cfgList.children,function(n,i){return e("li",{key:i},[e("div",{staticClass:"indexBackground-list-cfgTitle"},[t._v(t._s(n.title))]),t._v(" "),e("div",{class:n.title?"indexBackground-list-imgMore":"indexBackground-list-img",on:{click:function(n){t.update(i)}}},[e("div",{directives:[{name:"show",rawName:"v-show",value:n.imgProps.fileContent,expression:"sub.imgProps.fileContent"}]},[e("img",{staticClass:"indexBackground-list-imgClose",attrs:{src:"/static/images/icons/icon-close-gray.png",title:"删除",alt:"删除"},on:{click:function(n){n.stopPropagation(),t.deleteImg(i)}}}),t._v(" "),e("img",{attrs:{src:n.imgProps.fileContent}})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!n.imgProps.fileContent,expression:"!sub.imgProps.fileContent"}],staticClass:"indexBackground-list-noImage"},[t._v("当前无背景图")])]),t._v(" "),e("div",[e("div",{class:n.title?"indexBackground-list-updateMore":"indexBackground-list-update",on:{click:function(n){t.update(i)}}},[t._v("修改\n          ")])])])})),t._v(" "),e("div",{staticClass:"indexBackground-list-publish",on:{click:t.publish}},[t._v("上线")]),t._v(" "),e("keep-alive",[t.showPopupWindow?e("UploadSingleImagePopupWindow",{attrs:{uploadSize:t.uploadSize,pixelRatio:t.pixelRatio},on:{close:t.closePopupWindow,setPhotoProps:t.setPhotoProps}}):t._e()],1),t._v(" "),e("keep-alive",[t.showChooseImgCfgWindow?e("ChooseImgCfgWindow",{on:{setImgCfgType:t.setImgCfgType}}):t._e()],1)],1)])};e._withStripped=!0;var o=t(70),d=t.n(o),a=t(105),l=t.n(a),p=t(704),r=t.n(p),u=t(68),s=function(){var n=this,i=n.$createElement,t=n._self._c||i;return t("section",[t("div",{staticClass:"popupWindow-cloak"}),n._v(" "),t("div",{staticClass:"popupWindow-popupWindow"},[t("div",{staticClass:"el-message-box"},[t("div",{staticClass:"el-message-box__header"},[t("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:n.close}},[t("i",{staticClass:"el-message-box__close el-icon-close"})])]),n._v(" "),n._m(0),n._v(" "),t("div",{staticClass:"el-message-box__content"},[t("div",{staticClass:"el-input popupWindow-popupWindow-photoWrap"},[t("div",{staticClass:"popupWindow-popupWindow-groupPhoto"},[t("div",{staticClass:"popupWindow-popupWindow-addPhoto"},[t("img",{directives:[{name:"show",rawName:"v-show",value:n.imgProps.fileContent,expression:"imgProps.fileContent"}],attrs:{width:"250px;",height:"250px;",src:n.imgProps.fileContent}}),n._v(" "),t("input",{directives:[{name:"show",rawName:"v-show",value:!n.imgProps.fileContent,expression:"!imgProps.fileContent"}],attrs:{type:"file",name:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:n.upload}}),n._v(" "),t("img",{directives:[{name:"show",rawName:"v-show",value:!n.imgProps.fileContent,expression:"!imgProps.fileContent"}],staticClass:"popupWindow-popupWindow-addFlag",attrs:{src:"static/images/icons/icon-add34_34.png",alt:""}}),n._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!n.imgProps.fileContent,expression:"!imgProps.fileContent"}],staticClass:"popupWindow-popupWindow-addPhotoDesc"},[n._v("上传图片")])])])])]),n._v(" "),t("div",{staticClass:"el-message-box__btns"},[t("button",{class:n.publishStyle,attrs:{type:"button"},on:{click:n.publish}},[t("span",[n._v("上传")])])])])])])};s._withStripped=!0;var c={props:{uploadSize:{type:Number,required:!0},pixelRatio:{type:Object,required:!0}},data:function(){return{imgProps:{extName:"",fileContent:""}}},computed:{publishStyle:function(){return this.imgProps.fileContent?"popupWindow-popupWindow-submit":"popupWindow-popupWindow-submitDefault"}},methods:{upload:function(n){var t=this,e=n.target.files[0];if(void 0===e)return!1;if(e.size/1024/1024>this.uploadSize)return this.$allin_confirm({title:"提示",type:"notice",content:"图片最大不超过"+this.uploadSize+"M，不可上传"}),!1;if(!e.type.match(/image.*/))return this.$allin_confirm({title:"提示",content:"仅支持JPG/JPEG/PNG格式的图片",type:"notice"}),!1;var o=new FileReader;o.onload=function(){var n=new Image;n.src=o.result;var i=t;setTimeout(function(){n.width>i.pixelRatio.width||n.height>i.pixelRatio.height?i.$allin_confirm({title:"提示",type:"notice",content:"上传失败，图片尺寸不能超过"+i.pixelRatio.width+"px * "+i.pixelRatio.height+"px"}):i.imgProps={extName:e.type.split("/")[1],fileContent:n.src}},100)},o.readAsDataURL(e)},close:function(){this.$emit("close"),this.imgProps={extName:"",fileContent:""}},publish:function(){if(!this.imgProps.fileContent)return!1;this.$emit("setPhotoProps",this.imgProps),this.close()}}},g=(t(919),t(58)),x=Object(g.a)(c,s,[function(){var n=this.$createElement,i=this._self._c||n;return i("div",{staticClass:"popupWindow-popupWindow-title"},[i("h6",[this._v("修改图片")])])}],!1,null,"3383350a",null);x.options.__file="src/views/indexBackground/components/UploadSingleImagePopupWindow.vue";var h=x.exports,f=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("section",[e("div",{staticClass:"popupWindow-cloak"}),t._v(" "),e("div",{staticClass:"popupWindow-popupWindow"},[e("div",{staticClass:"el-message-box"},[e("div",{staticClass:"el-message-box__header"},[e("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:t.close}},[e("i",{staticClass:"el-message-box__close el-icon-close"})])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"el-message-box__content"},[e("ul",t._l(t.imgCfgList,function(n,i){return e("li",{key:n.id,class:n.seleted?"popupWindow-popupWindow-itemChoose":"popupWindow-popupWindow-item",on:{click:function(n){t.choose(i)}}},[t._v("\n              "+t._s(n.title)+"\n            ")])}))]),t._v(" "),e("div",{staticClass:"el-message-box__btns"},[e("button",{class:t.imgCfgSeleted?"popupWindow-popupWindow-submitDefault":"popupWindow-popupWindow-submit",attrs:{type:"button"},on:{click:t.into}},[e("span",[t._v("进入")])])])])])])},m=[{id:1,seleted:!(f._withStripped=!0),title:"首页顶部背景图"},{id:5,seleted:!1,title:"会议入口图"},{id:4,seleted:!1,title:"活动专题入口图"},{id:6,seleted:!1,title:"菁英会"}],w={data:function(){return{imgCfgSeleted:!1,imgCfgList:u.default.deepCopy(m)}},destroyed:function(){this.imgCfgSeleted=!1,this.imgCfgList=u.default.deepCopy(m)},methods:{close:function(){this.$router.push({path:"./home"})},choose:function(n){var i=!0,t=!1,e=void 0;try{for(var o,a=r()(this.imgCfgList);!(i=(o=a.next()).done);i=!0){var p=o.value;p.seleted&&(p.seleted=!1)}}catch(n){t=!0,e=n}finally{try{!i&&a.return&&a.return()}finally{if(t)throw e}}this.imgCfgList[n].seleted=!0,this.imgCfgSeleted=!0},into:function(){var n=!0,i=!1,t=void 0;try{for(var e,o=r()(this.imgCfgList);!(n=(e=o.next()).done);n=!0){var a=e.value;if(a.seleted){this.imgCfgList=a,this.$emit("setImgCfgType",this.imgCfgList);break}}}catch(n){i=!0,t=n}finally{try{!n&&o.return&&o.return()}finally{if(i)throw t}}}}},v=(t(921),Object(g.a)(w,f,[function(){var n=this.$createElement,i=this._self._c||n;return i("div",{staticClass:"popupWindow-popupWindow-title"},[i("h6",[this._v("请选择你要修改的位置")])])}],!1,null,"313eb4f0",null));v.options.__file="src/views/indexBackground/components/ChooseImgCfgWindow.vue";var b=v.exports,W=[{id:1,active:!1,title:"首页顶部背景图",children:[{title:"",imgProps:{extName:"",fileContent:"",watermark:1,isValid:1,imageType:1}}]},{id:5,active:!1,title:"会议入口图",children:[{title:"",imgProps:{extName:"",fileContent:"",watermark:1,isValid:1,imageType:5}}]},{id:4,active:!1,title:"活动专题入口图",children:[{title:"",imgProps:{extName:"",fileContent:"",watermark:1,isValid:1,imageType:4}}]},{id:6,active:!1,title:"菁英会",children:[{title:"",imgProps:{extName:"",fileContent:"",watermark:1,isValid:1,imageType:6}}]},{id:2,active:!1,title:"tab背景图",children:[{title:"手术精讲tab",imgProps:{id:null,imageId:null,sortId:1,extName:"",fileContent:"",imageSubId:1,watermark:1,isValid:1,imageType:2}},{title:"推荐tab",imgProps:{id:null,imageId:null,sortId:2,extName:"",fileContent:"",imageSubId:2,watermark:1,isValid:1,imageType:2}},{title:"直播tab",imgProps:{id:null,imageId:null,sortId:3,extName:"",fileContent:"",imageSubId:3,watermark:1,isValid:1,imageType:2}}]}],C={components:{UploadSingleImagePopupWindow:h,ChooseImgCfgWindow:b},data:function(){return{cfgList:u.default.deepCopy(W),updateIndex:0,showPopupWindow:!1,uploadSize:2,pixelRatio:{width:1125,height:588},showChooseImgCfgWindow:!0}},destroyed:function(){this.cfgList=u.default.deepCopy(W),u.default.goBack()},computed:{indexImgCfgTitle:function(){var n=!0,i=!1,t=void 0;try{for(var e,o=r()(this.cfgList);!(n=(e=o.next()).done);n=!0){var a=e.value;if(a.active)return(this.cfgList=a).title}}catch(n){i=!0,t=n}finally{try{!n&&o.return&&o.return()}finally{if(i)throw t}}}},methods:{init:function(n){u.default.openLoading("加载中...");var i=u.default.sendAxios("indexBackgroundGet",{imageType:n,isValid:1}),t=this;i.then(function(n){u.default.closeLoading();var i=n.responseData;i&&0<i.dataList.length&&t.initUpdateImgData(i.dataList)}).catch(function(){u.default.closeLoading(),t.$allin_confirm({content:"获取首页背景图失败",type:"notice"})})},initUpdateImgData:function(n){var i=this.cfgList.children;if(1===n.length)l()(i[0].imgProps,{id:n[0].id,imageId:n[0].imageId,fileContent:n[0].imageUrl});else{var t=!0,e=!1,o=void 0;try{for(var a,p=r()(n);!(t=(a=p.next()).done);t=!0)for(var s=a.value,d=0;d<i.length;d++)s.imageSubId===i[d].imgProps.imageSubId&&l()(i[d].imgProps,{id:s.id,imageId:s.imageId,fileContent:s.imageUrl})}catch(n){e=!0,o=n}finally{try{!t&&p.return&&p.return()}finally{if(e)throw o}}}},setImgCfgType:function(n){var i=!(this.showChooseImgCfgWindow=!1),t=!1,e=void 0;try{for(var o,a=r()(this.cfgList);!(i=(o=a.next()).done);i=!0){var p=o.value;if(p.id===n.id){p.active=!0,this.init(p.id);break}}}catch(n){t=!0,e=n}finally{try{!i&&a.return&&a.return()}finally{if(t)throw e}}},update:function(n){this.updateIndex=n,this.showPopupWindow=!0},deleteImg:function(n){var i=this;this.$allin_confirm({title:"提示",content:"确定删除吗？",done:function(){i.cfgList.children[n].imgProps.isValid=0,i.cfgList.children[n].imgProps.fileContent=""}})},closePopupWindow:function(){this.showPopupWindow=!1},setPhotoProps:function(n){l()(this.cfgList.children[this.updateIndex].imgProps,n)},handlePublishParams:function(){var n=[],i=u.default.deepCopy(this.cfgList.children),t=!0,e=!1,o=void 0;try{for(var a,p=r()(i);!(t=(a=p.next()).done);t=!0){var s=a.value;s.imgProps.fileContent.split(",")[0]!==s.imgProps.fileContent&&(s.imgProps.fileContent=s.imgProps.fileContent.split(",")[1],n.push(s.imgProps)),s.imgProps.id&&!s.imgProps.fileContent&&n.push(s.imgProps)}}catch(n){e=!0,o=n}finally{try{!t&&p.return&&p.return()}finally{if(e)throw o}}return d()(n)},publish:function(){var i=this,t=this,n=this.cfgList.children,e=!0,o=!1,a=void 0;try{for(var p,s=r()(n);!(e=(p=s.next()).done);e=!0){var d=p.value;d.imgProps.fileContent&&(d.imgProps.isValid=1)}}catch(n){o=!0,a=n}finally{try{!e&&s.return&&s.return()}finally{if(o)throw a}}t.$allin_confirm({title:"提示",content:"确定将当前显示的首页背景图上传到外网么？",done:function(){var n={backgroundList:i.handlePublishParams()};if("[]"===n.backgroundList)return t.$allin_confirm({title:"提示",type:"notice",content:"已上线到外网",btnName:"知道了"}),!1;u.default.openLoading("发布中..."),u.default.sendAxios("indexBackgroundSave",n).then(function(n){u.default.closeLoading(),n.responseStatus?(t.$allin_confirm({title:"提示",type:"notice",content:"已上线到外网",btnName:"知道了"}),t.init(t.cfgList.children[0].imgProps.imageType)):t.$allin_confirm({title:"提示",type:"notice",content:"已上线到外网",btnName:"知道了"})}).catch(function(n){u.default.closeLoading(),u.default.axios.isCancel(n)||t.$allin_confirm({title:"提示",type:"notice",content:"上线到外网失败",btnName:"知道了"})})}})}}},_=(t(923),Object(g.a)(C,e,[],!1,null,"4875c787",null));_.options.__file="src/views/indexBackground/indexBackground.vue";i.default=_.exports}}]);