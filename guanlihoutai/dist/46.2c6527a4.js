(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{1016:function(t,e,r){"use strict";r.r(e);var n=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("section",{staticClass:"crm-cert"},[n("section",{directives:[{name:"show",rawName:"v-show",value:r.confirmRole,expression:"confirmRole"}],staticClass:"crm-cert-tip"},[n("h3",{staticClass:"crm-cert-title"},[r._v("认证证件页提示")]),r._v(" "),n("div",{staticClass:" crm-cert-content"},[n("el-input",{staticClass:"crm-cert-input",attrs:{placeholder:"请输入认证证件页提示标题"},model:{value:r.certTipTitle,callback:function(t){r.certTipTitle=t},expression:"certTipTitle"}}),r._v(" "),n("el-input",{staticClass:"crm-cert-input",attrs:{placeholder:"请输入认证证件页提示内容"},model:{value:r.certTipContent,callback:function(t){r.certTipContent=t},expression:"certTipContent"}}),r._v(" "),n("el-button",{attrs:{type:"primary",round:""},on:{click:r.tipConfirmOnClick}},[r._v("确认修改")])],1)]),r._v(" "),n("section",{directives:[{name:"show",rawName:"v-show",value:r.confirmRole,expression:"confirmRole"}],staticClass:"crm-cert-show"},[n("h3",{staticClass:"crm-cert-title"},[r._v("认证证件展示")]),r._v(" "),n("section",{directives:[{name:"show",rawName:"v-show",value:r.currentRole&&2===r.currentRole.scene,expression:"currentRole && currentRole.scene===2"}],staticClass:"crm-cert-sort"},[n("section",{staticClass:"crm-cert-sort-panel"},[n("div",{staticClass:"crm-cert-sort-left sort-font"},[n("h3",[r._v("序号")]),r._v(" "),n("ul",r._l(r.sortItemList6.length,function(t){return n("li",{key:t},[r._v(r._s(t))])}))]),r._v(" "),n("div",{staticClass:"crm-cert-sort-right sort-font"},[n("h3",[r._v("证件名称")]),r._v(" "),n("SortableList",{attrs:{lockAxis:"",helperClass:"helperClass"},model:{value:r.sortItemList6,callback:function(t){r.sortItemList6=t},expression:"sortItemList6"}},r._l(r.sortItemList6,function(t,e){return n("SortableItem",{key:e,attrs:{index:e,item:t.refValue}})}))],1)]),r._v(" "),n("section",{staticClass:"crm-cert-sort-panel"},[n("div",{staticClass:"crm-cert-sort-left sort-font"},[n("h3",[r._v("序号")]),r._v(" "),n("ul",r._l(r.sortItemList7.length,function(t){return n("li",{key:t},[r._v(r._s(t))])}))]),r._v(" "),n("div",{staticClass:"crm-cert-sort-right sort-font"},[n("h3",[r._v("证件名称")]),r._v(" "),n("SortableList",{attrs:{lockAxis:"",helperClass:"helperClass"},model:{value:r.sortItemList7,callback:function(t){r.sortItemList7=t},expression:"sortItemList7"}},r._l(r.sortItemList7,function(t,e){return n("SortableItem",{key:e,attrs:{index:e,item:t.refValue}})}))],1)]),r._v(" "),n("div",[n("el-button",{attrs:{type:"primary",round:""},on:{click:r.showSortConfirmOnClick}},[r._v("确认修改")])],1)]),r._v(" "),n("section",{directives:[{name:"show",rawName:"v-show",value:r.currentRole&&6===r.currentRole.scene,expression:"currentRole && currentRole.scene===6"}],staticClass:"crm-cert-sort"},[n("section",{staticClass:"crm-cert-sort-panel"},[n("div",{staticClass:"crm-cert-sort-left sort-font"},[n("h3",[r._v("序号")]),r._v(" "),n("ul",r._l(r.sortItemList12.length,function(t){return n("li",{key:t},[r._v(r._s(t))])}))]),r._v(" "),n("div",{staticClass:"crm-cert-sort-right sort-font"},[n("h3",[r._v("证件名称")]),r._v(" "),n("SortableList",{attrs:{lockAxis:"",helperClass:"helperClass"},model:{value:r.sortItemList12,callback:function(t){r.sortItemList12=t},expression:"sortItemList12"}},r._l(r.sortItemList12,function(t,e){return n("SortableItem",{key:e,attrs:{index:e,item:t.refValue}})}))],1)]),r._v(" "),n("div",[n("el-button",{attrs:{type:"primary",round:""},on:{click:r.showSortConfirmOnClick}},[r._v("确认修改")])],1)])]),r._v(" "),n("el-dialog",{staticClass:"crm-cert-select",attrs:{center:"",width:"380px",visible:r.selectDialogVisible,"before-close":r.selectDialogCloseHandle}},[n("h3",{attrs:{slot:"title"},slot:"title"},[r._v("请选择要调整的用户身份")]),r._v(" "),n("div",{staticClass:"cert-select-container"},[n("ul",r._l(r.certRole,function(e,t){return n("li",{key:t,class:{"cert-item-selected":e.selected},on:{click:function(t){r.selectItemOnClick(e)}}},[r._v(r._s(e.roleName)+"\n        ")])}))]),r._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{class:{"el-button-disabled":!r.currentRole},on:{click:r.confirmCertRoleHandle}},[r._v("进入")])],1)])],1)};n._withStripped=!0;var o=r(69),c=r(59),s=r(700),i={name:"informationMaintenance",data:function(){return{certTipTitle:"",certTipContent:"",sortItemList6:[],sortItemList7:[],sortItemList12:[],selectDialogVisible:!0,confirmRole:!1,certRole:[{roleName:"医生",scene:2,selected:!1},{roleName:"护士",scene:6,selected:!1}],currentRole:null}},methods:{tipConfirmOnClick:function(){var e=this,t={scene:e.currentRole.scene,promptCondition:0,visitSiteId:25,promptMessage:this.certTipTitle+"@=@"+this.certTipContent};Object(c.a)({method:o.a.updateCertTipInfo.type,url:o.a.updateCertTipInfo.url,data:t}).then(function(t){t&&t.data.responseObject&&t.data.responseObject.responseStatus?e.$message.info("修改认证证件页提示成功！"):e.$message.error("修改认证证件页提示失败！")}).catch(function(){e.$message.error("修改认证证件页提示失败！")})},showSortConfirmOnClick:function(){var t=this.sortItemList6,e=this.sortItemList7,r=this.sortItemList12,n=[],s={visitSiteId:25,data_list:n=(n=(n=n.concat(this.updateSortItemListData(t))).concat(this.updateSortItemListData(e))).concat(this.updateSortItemListData(r))},i=this;Object(c.a)({method:o.a.updateCertSortInfo.type,url:o.a.updateCertSortInfo.url,data:s}).then(function(t){t&&t.data.responseObject&&"update success"===t.data.responseObject.responseMessage?i.$message.info("修改认证证件展示成功！"):i.$message.error("修改认证证件展示失败！")}).catch(function(){i.$message.error("修改认证证件展示失败！")})},getDefaultData:function(){var a=this,t="";2===a.currentRole.scene?t="6,7":6===a.currentRole.scene&&(t="12"),Object(c.a)({method:o.a.getCertTipInfo.type,url:o.a.getCertTipInfo.url,params:{scene:a.currentRole.scene,promptCondition:0}}).then(function(t){if(t&&t.data.responseObject&&t.data.responseObject.responseData){var e=t.data.responseObject.responseData;if(e&&e.promptMessage){var r=e.promptMessage.split("@=@");a.certTipTitle=r[0],a.certTipContent=r[1]}}}).catch(function(t){}),Object(c.a)({method:o.a.getCertSortInfo.type,url:o.a.getCertSortInfo.url,params:{isValid:2,visitSiteId:25,roleIdList:t}}).then(function(t){if(t&&t.data.responseObject&&t.data.responseObject.responseData){var e=t.data.responseObject.responseData;if(2===a.currentRole.scene){if(e&&e.data_list)for(var r=e.data_list,n=0;n<r.length;n++)r[n][6]&&(a.sortItemList6=r[n][6]),r[n][7]&&(a.sortItemList7=r[n][7])}else if(6===a.currentRole.scene&&e&&e.data_list)for(var s=e.data_list,i=0;i<s.length;i++)s[i][12]&&(a.sortItemList12=s[i][12])}}).catch(function(t){})},selectDialogCloseHandle:function(){this.$router.push({path:"./home"})},selectItemOnClick:function(t){this.currentRole&&(this.currentRole.selected=!1),t.selected=!0,this.currentRole=t},confirmCertRoleHandle:function(){this.currentRole&&(this.confirmRole=!0,this.selectDialogVisible=!1,this.getDefaultData())},updateSortItemListData:function(t){for(var e=[],r={},n=0;n<t.length;n++)(r={}).roleId=t[n].roleId,r.sortId=n+1,r.refId=t[n].refId,r.isValid=t[n].isValid,e.push(r);return e}},components:{SortableList:{mixins:[s.ContainerMixin],template:"<ul><slot></slot></ul>"},SortableItem:{mixins:[s.ElementMixin],props:["item"],template:'<li class="">{{item}}</li>'}}},a=(r(785),r(58)),l=Object(a.a)(i,n,[],!1,null,"733d00ba",null);l.options.__file="src/views/certificationRelation/informationMaintenance.vue";e.default=l.exports},599:function(t,e,r){var n=r(786);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};r(156)(n,s);n.locals&&(t.exports=n.locals)},785:function(t,e,r){"use strict";var n=r(599);r.n(n).a},786:function(t,e,r){(t.exports=r(155)(!1)).push([t.i,"\n.crm-cert[data-v-733d00ba] {\n  width: 1200px;\n  margin: 0 auto;\n}\n.crm-cert .crm-cert-title[data-v-733d00ba] {\n    margin: 32px 0 25px 0;\n    font-family: PingFangSC-Semibold;\n    font-size: 20px;\n    color: #2C343A;\n    letter-spacing: 0;\n    line-height: 24px;\n    font-weight: bolder;\n}\n.crm-cert .crm-cert-content[data-v-733d00ba] {\n    background: #FFFFFF;\n    box-shadow: 0 4px 10px 0 rgba(42, 53, 102, 0.04);\n    border-radius: 4px;\n}\n.crm-cert .crm-cert-input[data-v-733d00ba] {\n    padding: 20px 20px 0 20px;\n    width: 1160px;\n}\n.crm-cert .el-button[data-v-733d00ba] {\n    margin: 36px 20px;\n    padding: 10px 50px;\n    background: #4B67D6;\n    border-radius: 100px;\n    font-family: PingFangSC-Regular;\n    font-size: 15px;\n    color: #FFFFFF;\n    letter-spacing: 0;\n    line-height: 15px;\n}\n.crm-cert .crm-cert-select .cert-select-container ul[data-v-733d00ba] {\n    display: flex;\n}\n.crm-cert .crm-cert-select .cert-select-container li[data-v-733d00ba] {\n    flex: 1;\n    border: 1px solid #cad1ed;\n    border-radius: 3px;\n    text-align: center;\n    width: 110px;\n    height: 30px;\n    line-height: 30px;\n    font-size: 14px;\n    color: #4B67D6;\n    margin: 10px;\n    padding: 5px;\n    cursor: pointer;\n}\n.crm-cert .crm-cert-select .cert-select-container .cert-item-selected[data-v-733d00ba] {\n    background: #4B67D6;\n    color: #FFFFFF;\n}\n.crm-cert .crm-cert-select .el-button[data-v-733d00ba] {\n    margin: 0 auto;\n}\n.crm-cert .crm-cert-select .el-button-disabled[data-v-733d00ba] {\n    background: #b5b8c3;\n}\n.crm-cert-sort[data-v-733d00ba] {\n  display: block;\n  width: 1200px;\n  height: auto;\n  background: #FFFFFF;\n  box-shadow: 0 4px 10px 0 rgba(42, 53, 102, 0.04);\n  border-radius: 4px;\n}\n.crm-cert-sort .crm-cert-sort-panel[data-v-733d00ba] {\n    display: inline-block;\n    padding: 20px;\n    font-size: 0;\n    vertical-align: top;\n}\n.crm-cert-sort .crm-cert-sort-panel .sort-font[data-v-733d00ba] {\n      font-family: PingFangSC-Medium;\n      font-size: 14px;\n      color: #111111;\n      letter-spacing: 0;\n      line-height: 14px;\n}\n.crm-cert-sort .crm-cert-sort-panel h3[data-v-733d00ba] {\n      padding: 13px 30px;\n      border: 1px solid #E6E6E8;\n      margin: 0;\n}\n.crm-cert-sort .crm-cert-sort-panel ul li[data-v-733d00ba] {\n      padding: 13px 30px;\n      border: 1px solid #E6E6E8;\n      cursor: pointer;\n      user-select: none;\n}\n.crm-cert-sort .crm-cert-sort-panel .crm-cert-sort-left[data-v-733d00ba] {\n      display: inline-block;\n}\n.crm-cert-sort .crm-cert-sort-panel .crm-cert-sort-right[data-v-733d00ba] {\n      display: inline-block;\n}\n.helperClass[data-v-733d00ba] {\n  opacity: 0.3;\n  background: #A8BAFF;\n  text-align: center;\n  line-height: 42px;\n}\n",""])}}]);