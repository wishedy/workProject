(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{580:function(t,e,n){var i=n(756);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(156)(i,r);i.locals&&(t.exports=i.locals)},755:function(t,e,n){"use strict";var i=n(580);n.n(i).a},756:function(t,e,n){(t.exports=n(155)(!1)).push([t.i,'\n@charset "UTF-8";\n.crm-kitsListContainer {\n  width: 1200px;\n  height: 500px;\n  background-color: #F6F7FA;\n  margin: 0 auto;\n  /*elementUi样式调整*/\n  /*最后一行的大空白样式*/\n  /*分页样式*/\n  /*问题列表锦囊详情页*/\n}\n.crm-kitsListContainer .crm-kitsTitleContainer {\n    margin: 32px 0 25px 0;\n}\n.crm-kitsListContainer .crm-kitsTitle {\n    font-size: 20px;\n    color: #222222;\n    font-weight: bold;\n    display: inline-block;\n}\n.crm-kitsListContainer .crm-kitsTitle.queListTitle {\n      vertical-align: middle;\n}\n.crm-kitsListContainer .crm-kitsTitle.queListTitle:after {\n        content: "";\n        display: inline-block;\n        vertical-align: middle;\n        margin-left: 12px;\n        width: 1px;\n        height: 20px;\n        background-color: #555;\n}\n.crm-kitsListContainer .crm-kitsSubTitle {\n    font-size: 14px;\n    color: #222;\n    margin: 0 0 3px 14px;\n    display: inline-block;\n    vertical-align: bottom;\n}\n.crm-kitsListContainer .crm-newBtn {\n    background: none;\n    width: 98px;\n    height: 32px;\n    border: 1px solid #4B67D6;\n    border-radius: 3px;\n    font-size: 14px;\n    color: #4B67D6;\n    margin-bottom: 12px;\n    cursor: pointer;\n}\n.crm-kitsListContainer .ev-table .el-table__header-wrapper, .crm-kitsListContainer .ev-table .el-table__body {\n    margin-left: 30px;\n}\n.crm-kitsListContainer .crm-Profess {\n    font-size: 14px;\n    color: #555555;\n    margin-left: 30px;\n}\n.crm-kitsListContainer .crm-Profess .ev-select {\n      margin: 0 44px 0 10px;\n      width: 140px;\n      height: 32px;\n}\n.crm-kitsListContainer .crm-Profess span {\n    font-size: 14px;\n    color: #555555;\n}\n.crm-kitsListContainer .ev-select {\n    margin: 0 44px 0 10px;\n    height: 32px;\n    width: 140px;\n}\n.crm-kitsListContainer .ev-select.ev-selectMore {\n      width: 198px;\n}\n.crm-kitsListContainer .ev-select input {\n      background: #F7F9FC;\n      border: 1px solid #E6E6E8;\n      border-radius: 3px;\n      height: 32px;\n      line-height: 32px;\n      font-size: 14px;\n      color: #333333;\n}\n.crm-kitsListContainer .ev-select input::-webkit-input-placeholder, .crm-kitsListContainer .ev-select textarea::-webkit-input-placeholder {\n      color: #333333;\n}\n.crm-kitsListContainer .ev-select input:-moz-placeholder, .crm-kitsListContainer .ev-select textarea:-moz-placeholder {\n      color: #333333;\n}\n.crm-kitsListContainer .ev-select input::-moz-placeholder, .crm-kitsListContainer .ev-select textarea::-moz-placeholder {\n      color: #333333;\n}\n.crm-kitsListContainer .ev-select input:-ms-input-placeholder, .crm-kitsListContainer .ev-select textarea:-ms-input-placeholder {\n      color: #333333;\n}\n.crm-kitsListContainer .ev-selectMore .el-select__tags span {\n    font-size: 14px;\n    color: #333333;\n}\n.crm-kitsListContainer .crm-select {\n    margin-right: 30px;\n}\n.crm-kitsListContainer .crm-kitsList {\n    background-color: #fff;\n    padding: 30px 0 0 0;\n    box-shadow: 0 4px 10px 0 rgba(42, 53, 102, 0.04);\n    border-radius: 3px;\n    margin-bottom: 25px;\n}\n.crm-kitsListContainer .al-bs-pagination {\n    margin: 20px auto;\n}\n.crm-kitsListContainer .container {\n    flex-direction: column;\n    margin-bottom: 30px;\n}\n.crm-kitsListContainer .container .wrapper {\n      background: none;\n      width: 100%;\n      flex-shrink: 0;\n      box-sizing: border-box;\n      display: block;\n      position: relative;\n}\n.crm-kitsListContainer .container .wrapper .editBtn {\n        background: #3846DC;\n        border-radius: 3px;\n        display: inline-block;\n        width: 90px;\n        height: 32px;\n        position: absolute;\n        right: 32px;\n        top: 22px;\n        font-size: 14px;\n        color: #FFFFFF;\n        letter-spacing: 0;\n        line-height: 32px;\n        text-align: center;\n        cursor: pointer;\n}\n.crm-kitsListContainer .container .al-bs-des {\n      background: #FFFFFF;\n      box-shadow: 0 4px 10px 0 rgba(42, 53, 102, 0.04);\n      border-radius: 3px;\n      height: 86px;\n      padding-top: 25px;\n      width: 100%;\n}\n.crm-kitsListContainer .container .al-bs-des .dot {\n        display: inline-block;\n        vertical-align: top;\n        width: 7px;\n        height: 7px;\n        background: #4B67D6;\n        border-radius: 50%;\n        margin: 9px 7px 30px 30px;\n}\n.crm-kitsListContainer .container .al-bs-des .des-content {\n        display: inline-block;\n        vertical-align: top;\n}\n.crm-kitsListContainer .container .al-bs-des .des-content span {\n          display: block;\n}\n.crm-kitsListContainer .container .al-bs-des .des-content .title {\n          font-size: 18px;\n          color: #222222;\n          font-weight: 600;\n}\n.crm-kitsListContainer .container .al-bs-des .des-content .title .state {\n            box-sizing: border-box;\n            display: inline-block;\n            border: 1px  solid #4B67D6;\n            text-align: center;\n            border-radius: 3px;\n            width: 60px;\n            height: 27px;\n            font-size: 13px;\n            color: #6B748C;\n            line-height: 24px;\n}\n.crm-kitsListContainer .container .al-bs-des .des-content .title .special {\n            font-size: 14px;\n            color: #222222;\n}\n.crm-kitsListContainer .container .al-bs-des .des-content .produce {\n          font-size: 14px;\n          color: #555555;\n          margin-top: 6px;\n}\n.crm-kitsListContainer .el-select .el-input.is-focus .el-input__inner {\n    border-color: #4B67D6;\n}\n.crm-kitsListContainer .el-select .el-input__inner:focus {\n    border-color: #4B67D6;\n}\n.crm-kitsListContainer .el-input__icon {\n    line-height: 32px;\n}\n.crm-kitsListContainer .el-icon-circle-plus:before {\n    margin-right: 2px;\n}\n.crm-kitsListContainer .has-gutter .cell {\n    font-size: 14px;\n    color: #111111;\n    font-weight: bold;\n}\n.crm-kitsListContainer .el-table .ascending .sort-caret.ascending {\n    border-bottom-color: #4B67D6;\n}\n.crm-kitsListContainer .el-table .descending .sort-caret.descending {\n    border-top-color: #4B67D6;\n}\n.crm-kitsListContainer .el-table--fit {\n    margin-top: 12px;\n    border-top: 1px solid rgba(230, 230, 232, 0.3);\n}\n.crm-kitsListContainer .el-table td {\n    padding: 10px 0;\n    border-bottom: 1px solid rgba(230, 230, 232, 0.3);\n}\n.crm-kitsListContainer .el-table .el-table__row:last-child td {\n    border-bottom: none;\n}\n.crm-kitsListContainer .el-table__row td:nth-child(11), .crm-kitsListContainer .el-table__row td:nth-child(12), .crm-kitsListContainer .el-table__row td:nth-child(14) {\n    border-bottom: none;\n}\n.crm-kitsListContainer .el-table th.is-leaf {\n    border-bottom: none;\n}\n.crm-kitsListContainer .el-table th.is-leaf:nth-child(12) {\n      border-left: 1px solid rgba(216, 216, 216, 0.5);\n}\n.crm-kitsListContainer .el-table th {\n    padding-bottom: 0;\n}\n.crm-kitsListContainer .el-table .cell, .crm-kitsListContainer .el-table th div {\n    padding-left: 0;\n}\n.crm-kitsListContainer .el-table__row td:nth-child(12) {\n    border-left: 1px solid rgba(216, 216, 216, 0.5);\n}\n.crm-kitsListContainer .el-table__row td:nth-child(13) .cell {\n    margin: 4.5px 0;\n}\n.crm-kitsListContainer .el-table__row td:nth-child(13) .cell .el-button {\n      box-sizing: border-box;\n      border: 1px solid #4B67D6;\n      border-radius: 3px;\n      font-size: 13px;\n      color: #4B67D6;\n      width: 74px;\n      height: 27px;\n      padding: 0;\n}\n.crm-kitsListContainer .el-table__row:last-child td {\n    padding-bottom: 24px;\n}\n.crm-kitsListContainer .el-table__row:last-child td:nth-child(13) {\n      margin-bottom: 0;\n}\n.crm-kitsListContainer .ev-table .has-gutter th:nth-child(1) .cell:hover, .crm-kitsListContainer .ev-table .has-gutter th:nth-child(6) .cell:hover, .crm-kitsListContainer .ev-table .has-gutter th:nth-child(7) .cell:hover, .crm-kitsListContainer .ev-table .has-gutter th:nth-child(9) .cell:hover {\n    color: #6483E9;\n}\n.crm-kitsListContainer .ev-table .has-gutter th:nth-child(1) .cell:active, .crm-kitsListContainer .ev-table .has-gutter th:nth-child(6) .cell:active, .crm-kitsListContainer .ev-table .has-gutter th:nth-child(7) .cell:active, .crm-kitsListContainer .ev-table .has-gutter th:nth-child(9) .cell:active {\n    color: #6483E9;\n}\n.crm-kitsListContainer .ev-table.ev-kitsQue .has-gutter th:nth-child(6), .crm-kitsListContainer .ev-table.ev-kitsQue .has-gutter th:nth-child(8) {\n    /*&:nth-child(5),*/\n}\n.crm-kitsListContainer .ev-table.ev-kitsQue .has-gutter th:nth-child(6) .cell:hover, .crm-kitsListContainer .ev-table.ev-kitsQue .has-gutter th:nth-child(8) .cell:hover {\n      color: #111;\n}\n.crm-kitsListContainer .ev-table.ev-kitsQue .has-gutter th:nth-child(6) .cell:active, .crm-kitsListContainer .ev-table.ev-kitsQue .has-gutter th:nth-child(8) .cell:active {\n      color: #111;\n}\n.crm-kitsListContainer .ev-table.ev-kitsQue .has-gutter th:nth-child(1) .cell:hover, .crm-kitsListContainer .ev-table.ev-kitsQue .has-gutter th:nth-child(4) .cell:hover, .crm-kitsListContainer .ev-table.ev-kitsQue .has-gutter th:nth-child(5) .cell:hover {\n    color: #6483E9;\n}\n.crm-kitsListContainer .ev-table.ev-kitsQue .has-gutter th:nth-child(1) .cell:active, .crm-kitsListContainer .ev-table.ev-kitsQue .has-gutter th:nth-child(4) .cell:active, .crm-kitsListContainer .ev-table.ev-kitsQue .has-gutter th:nth-child(5) .cell:active {\n    color: #6483E9;\n}\n.crm-kitsListContainer .ev-table.ev-queInfo .has-gutter th:nth-child(4) .cell:hover, .crm-kitsListContainer .ev-table.ev-queInfo .has-gutter th:nth-child(5) .cell:hover, .crm-kitsListContainer .ev-table.ev-queInfo .has-gutter th:nth-child(6) .cell:hover, .crm-kitsListContainer .ev-table.ev-queInfo .has-gutter th:nth-child(7) .cell:hover, .crm-kitsListContainer .ev-table.ev-queInfo .has-gutter th:nth-child(9) .cell:hover {\n    color: #111;\n}\n.crm-kitsListContainer .ev-table.ev-queInfo .has-gutter th:nth-child(4) .cell:active, .crm-kitsListContainer .ev-table.ev-queInfo .has-gutter th:nth-child(5) .cell:active, .crm-kitsListContainer .ev-table.ev-queInfo .has-gutter th:nth-child(6) .cell:active, .crm-kitsListContainer .ev-table.ev-queInfo .has-gutter th:nth-child(7) .cell:active, .crm-kitsListContainer .ev-table.ev-queInfo .has-gutter th:nth-child(9) .cell:active {\n    color: #111;\n}\n.crm-kitsListContainer .ev-table.ev-queInfo .has-gutter th:nth-child(8) .cell:hover {\n    color: #6483E9;\n}\n.crm-kitsListContainer .ev-table.ev-queInfo .has-gutter th:nth-child(8) .cell:active {\n    color: #6483E9;\n}\n.crm-kitsListContainer .ev-pages {\n    margin: 24px auto;\n    text-align: center;\n}\n.crm-kitsListContainer .ev-kitsQue .el-table__row td:nth-child(7), .crm-kitsListContainer .ev-kitsQue .el-table__row td:nth-child(8), .crm-kitsListContainer .ev-kitsQue .el-table__row td:nth-child(10) {\n    border-bottom: none;\n}\n.crm-kitsListContainer .ev-kitsQue.el-table th.is-leaf {\n    border-bottom: none;\n}\n.crm-kitsListContainer .ev-kitsQue.el-table th.is-leaf:nth-child(8) {\n      border-left: 1px solid rgba(216, 216, 216, 0.5);\n}\n.crm-kitsListContainer .ev-kitsQue .el-table__row td:nth-child(8) {\n    border-left: 1px solid rgba(216, 216, 216, 0.5);\n}\n.crm-kitsListContainer .ev-kitsQue .el-table__row td:nth-child(9) .cell {\n    margin: 4.5px 0;\n}\n.crm-kitsListContainer .ev-kitsQue .el-table__row td:nth-child(9) .cell .el-button {\n      box-sizing: border-box;\n      border: 1px solid #4B67D6;\n      border-radius: 3px;\n      font-size: 13px;\n      color: #4B67D6;\n      width: 74px;\n      height: 27px;\n      padding: 0;\n}\n.el-select-dropdown.is-multiple .el-select-dropdown__item.selected, .el-select-dropdown__item.selected {\n  color: #4B67D6 !important;\n}\n.el-table::before {\n  height: 0;\n}\n',""])},968:function(t,e,n){"use strict";n.r(e);var i=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("section",{staticClass:"crm-kitsListContainer"},[n._m(0),n._v(" "),i("el-container",{staticClass:"container"},[i("el-container",{staticClass:"wrapper"},[i("div",{staticClass:"block  al-bs-des"},[n.dataInfoBox.brochureName?i("p",{staticClass:"dot"}):n._e(),n._v(" "),i("p",{staticClass:"des-content"},[i("span",{staticClass:"title"},[i("i",[n._v(n._s(n.dataInfoBox.brochureName))]),n._v(" "),n.dataInfoBox.tagName?i("i",{staticClass:"special"},[n._v(n._s(n.dataInfoBox.tagName?"("+n.dataInfoBox.tagName+")":""))]):n._e(),n._v(" "),n.dataInfoBox.isValid?i("i",{staticClass:"state"},[n._v(n._s(1==n.dataInfoBox.isValid?"上架":"下架"))]):n._e()]),n._v(" "),i("span",{staticClass:"produce"},[n._v("\n           "+n._s(n.dataInfoBox.brochureDesc?"说明："+n.dataInfoBox.brochureDesc:"")+"\n          ")])])]),n._v(" "),i("router-link",{attrs:{to:{path:"kitsEdit",query:{id:n.dataInfoBox.id,bId:n.dataInfoBox.brochureId}}}},[i("div",{staticClass:"editBtn"},[n._v("去编辑")])])],1)],1),n._v(" "),i("router-link",{attrs:{to:{path:"questionEdit",query:{bId:n.bId}}}},[i("button",{staticClass:"crm-newBtn el-icon-circle-plus"},[n._v("添加问题")])]),n._v(" "),i("aside",{staticClass:"crm-kitsList"},[i("aside",{staticClass:"crm-Profess"},[i("span",[n._v("状态")]),n._v(" "),i("el-select",{staticClass:"ev-select",attrs:{placeholder:"请选择"},model:{value:n.statusId,callback:function(t){n.statusId=t},expression:"statusId"}},n._l(n.statusArr,function(t){return i("el-option",{key:t.id,attrs:{label:t.statusName,value:t.id}})}))],1),n._v(" "),i("el-table",{ref:"sortReset",staticClass:"ev-table ev-kitsQue",attrs:{data:n.listDataArr,width:"100%","default-sort":{prop:"sortNum",order:"descending"}},on:{"sort-change":n.sortIdChange}},[i("el-table-column",{attrs:{prop:"sortNum",label:"问题排序",width:"115",sortable:"custom","sort-orders":["descending","ascending"]}}),n._v(" "),i("el-table-column",{attrs:{prop:"qusId",label:"问题ID",width:"130"}}),n._v(" "),i("el-table-column",{attrs:{prop:"qusName",label:"问题名称",width:"144"}}),n._v(" "),i("el-table-column",{attrs:{prop:"createDate",label:"创建时间",width:"183",sortable:"custom","sort-orders":["descending","ascending"]}}),n._v(" "),i("el-table-column",{attrs:{prop:"recDate",label:"最近编辑时间",width:"194",sortable:"custom","sort-orders":["descending","ascending"]}}),n._v(" "),i("el-table-column",{attrs:{prop:"status",label:"状态",width:"239"}}),n._v(" "),i("el-table-column",{attrs:{width:"30"}}),n._v(" "),i("el-table-column",{attrs:{width:"30"}}),n._v(" "),i("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:n._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"medium"},on:{click:function(t){n.editJump(e.row)}}},[n._v("编辑")])]}}])}),n._v(" "),i("el-table-column",{attrs:{width:"24"}})],1)],1),n._v(" "),i("div",{staticClass:"block ev-pages"},[0!=n.totalCount?i("el-pagination",{staticClass:"al-bs-pagination",attrs:{"current-page":n.currentPage,"page-sizes":[10,20,30,50,100],"page-size":n.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:n.totalCount},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}}):n._e()],1)],1)};i._withStripped=!0;var r=n(59),a=n(69),o=n(68),s=(n(72),{name:"kitsList",data:function(){return{bId:"",sortId:"5",dataInfoBox:"",dataInfoPName:"",currentPage:1,pageSize:30,totalCount:0,maxResult:30,firstResult:0,statusId:"1",statusArr:[{id:"",statusName:"全部"},{id:"1",statusName:"上架"},{id:"0",statusName:"下架"}],listDataArr:[]}},methods:{editJump:function(t){this.$router.push({path:"questionInfo",query:{bId:t.brochureId,qId:t.questionId}})},handleSizeChange:function(t){var e=this;e.pageSize=t,e.currentPage=1,e.firstResult=0,e.maxResult=e.currentPage*t,e.dataMainList()},handleCurrentChange:function(t){var e=this;e.currentPage=t,e.firstResult=(t-1)*e.pageSize,e.dataMainList()},sortIdChange:function(t){var e=t.order;switch(t.prop){case"sortNum":this.sortId="descending"==e?"5":"6";break;case"createDate":this.sortId="descending"==e?"1":"2";break;case"recDate":this.sortId="descending"==e?"3":"4"}},dataInfo:function(){var e=this,n=this;Object(r.a)({method:a.a.kitsInfo.type,url:a.a.kitsInfo.url,params:{brochureId:n.bId}}).then(function(t){t&&t.data&&o.default.hasResponseData(t.data)&&(n.dataInfoBox=t.data.responseObject.responseData.dataList[0])}).catch(function(t){o.default.closeLoading(),e.$allin_confirm({title:"提示",content:"获取失败，请刷新重试",type:"notice"})})},dataMainList:function(){var e=this,s=this;o.default.openLoading("加载中...");var t={brochureId:s.bId,sortType:s.sortId,firstResult:s.firstResult,maxResult:s.maxResult};""!=s.statusId&&(t.isValid=s.statusId),Object(r.a)({method:a.a.kitsQueList.type,url:a.a.kitsQueList.url,params:t}).then(function(t){if(o.default.closeLoading(),s.listDataArr=[],t&&t.data){var e=t.data.responseObject;if(s.totalCount=e.totalCount,e.items&&e.items.length)for(var n=0;n<e.items.length;n++){var i=e.items[n],r={sortNum:i.sortId,qusName:i.questionName,createDate:i.createTime.substr(0,19),recDate:i.updateTime.substr(0,19),status:1==i.isValid?"上架":"下架",opBtn:"编辑",brochureId:i.brochureId,questionId:i.questionId,id:i.id,qusId:i.questionId};s.listDataArr.push(r)}}}).catch(function(t){o.default.closeLoading(),e.$allin_confirm({title:"提示",content:"获取失败，请刷新重试",type:"notice"})})}},mounted:function(){var t=this;if(t.$route.query.bId)t.bId=t.$route.query.bId,t.dataInfo(),t.dataMainList();else{if(window.history.length<=1)return t.$router.push({path:"/"}),!1;t.$router.go(-1)}},watch:{sortId:function(){this.currentPage=1,(this.firstResult=0)<this.listDataArr.length&&this.dataMainList()},statusId:function(){var t=this;t.sortId="5",t.$refs.sortReset.clearSort(),t.$refs.sortReset.sort("sortNum","descending"),t.currentPage=1,t.firstResult=0,t.dataMainList()}},destroyed:function(){document.onkeydown=null,o.default.goBack()}}),l=(n(755),n(58)),c=Object(l.a)(s,i,[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"crm-kitsTitleContainer"},[n("p",{staticClass:"crm-kitsTitle queListTitle"},[t._v("锦囊管理后台")]),t._v(" "),n("p",{staticClass:"crm-kitsSubTitle"},[t._v("锦囊问题列表页")])])}],!1,null,null,null);c.options.__file="src/views/kitsList/kitsQuestionList.vue";e.default=c.exports}}]);