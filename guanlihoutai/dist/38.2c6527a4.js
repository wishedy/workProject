(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{686:function(n,i,t){var o=t(928);"string"==typeof o&&(o=[[n.i,o,""]]);var e={hmr:!0,transform:void 0,insertInto:void 0};t(156)(o,e);o.locals&&(n.exports=o.locals)},925:function(n,i,t){n.exports=t.p+"icon-tick-selected.135aa0a3.png"},926:function(n,i,t){n.exports=t.p+"icon-tick-unselected.171fb376.png"},927:function(n,i,t){"use strict";var o=t(686);t.n(o).a},928:function(n,i,t){(n.exports=t(155)(!1)).push([n.i,"\n.indexColumn h3[data-v-aa17bfd2] {\n  margin: 36px auto 25px auto;\n  width: 880px;\n}\n.indexColumn .indexColumn-sort[data-v-aa17bfd2] {\n  width: 880px;\n  min-height: 543px;\n  overflow-y: auto;\n  margin: 25px auto 25px auto;\n  background: #FFFFFF;\n  box-shadow: 0 4px 10px 0 rgba(42, 53, 102, 0.04);\n  border-radius: 3px;\n}\n.indexColumn .indexColumn-sort .indexColumn-publish[data-v-aa17bfd2] {\n    float: right;\n    position: relative;\n    margin-top: 95px;\n    margin-bottom: 41px;\n    margin-right: 44px;\n}\n.indexColumn .indexColumn-sort .indexColumn-publish .indexColumn-publish-btn[data-v-aa17bfd2] {\n      cursor: pointer;\n      width: 140px;\n      height: 32px;\n      background: #3846DC;\n      border-radius: 3px;\n      text-align: center;\n      line-height: 32px;\n      font-family: PingFangSC-Medium;\n      font-size: 14px;\n      color: #FFFFFF;\n      letter-spacing: 0;\n}\n.indexColumn .indexColumn-sort .indexColumn-columnAdd[data-v-aa17bfd2] {\n    cursor: pointer;\n    margin-top: 36px;\n    width: 238px;\n    height: 95px;\n    border: 1px solid #4B67D6;\n    opacity: 0.5;\n    border-radius: 3px;\n    text-align: center;\n}\n.indexColumn .indexColumn-sort .indexColumn-columnAdd .el-icon-circle-plus[data-v-aa17bfd2] {\n      color: #0d17d6;\n}\n.indexColumn .indexColumn-sort .indexColumn-columnAdd i[data-v-aa17bfd2] {\n      font-family: PingFangSC-Medium;\n      font-size: 16px;\n      color: #4B67D6;\n      letter-spacing: 0;\n      line-height: 16px;\n}\n.indexColumn .indexColumn-sort .indexColumn-columnAdd div[data-v-aa17bfd2]:first-child {\n      margin-top: 34px;\n}\n.indexColumn .indexColumn-sort .indexColumn-columnAdd div[data-v-aa17bfd2]:nth-child(2) {\n      margin-top: 8px;\n      opacity: 0.6;\n      font-family: PingFangSC-Regular;\n      font-size: 14px;\n      color: #4B67D6;\n      letter-spacing: 0;\n      line-height: 14px;\n}\n.indexColumn .indexColumn-sort ul[data-v-aa17bfd2] {\n    float: left;\n}\n.indexColumn .indexColumn-sort ul li[data-v-aa17bfd2] {\n      margin: 36px 35px 0 0;\n      width: 240px;\n      height: 133px;\n      float: left;\n}\n.indexColumn .indexColumn-sort ul li .indexColumn-columnUpPart .indexColumn-columnUpPart-left[data-v-aa17bfd2] {\n        width: 35px;\n        float: left;\n        font-family: PingFangSC-Medium;\n        font-size: 25px;\n        color: #999999;\n        letter-spacing: 0;\n        line-height: 20px;\n}\n.indexColumn .indexColumn-sort ul li .indexColumn-columnUpPart .indexColumn-columnUpPart-right[data-v-aa17bfd2] {\n        margin-top: 5px;\n        float: right;\n        width: 150px;\n        font-family: PingFangSC-Regular;\n        font-size: 10px;\n        color: #a6a6a6;\n        letter-spacing: 0;\n        line-height: 10px;\n        text-align: right;\n}\n.indexColumn .indexColumn-sort ul li .indexColumn-columnUpPart .indexColumn-columnUpPart-right span[data-v-aa17bfd2] {\n          cursor: pointer;\n}\n.indexColumn .indexColumn-sort ul li .indexColumn-columnUpPart .indexColumn-columnUpPart-right span[data-v-aa17bfd2]:nth-child(2) {\n          margin-left: 15px;\n}\n.indexColumn .indexColumn-sort ul li .indexColumn-columnDownPart[data-v-aa17bfd2] {\n        margin-top: 16px;\n        background: #F7F9FC;\n        border-radius: 3px;\n        height: 97px;\n        float: left;\n        width: 240px;\n}\n.indexColumn .indexColumn-sort ul li .indexColumn-columnDownPart .indexColumn-columnDownPart-up[data-v-aa17bfd2] {\n          height: 65px;\n          text-align: center;\n          color: #222222;\n          letter-spacing: 0;\n          line-height: 65px;\n}\n.indexColumn .indexColumn-sort ul li .indexColumn-columnDownPart .indexColumn-columnDownPart-middleLine[data-v-aa17bfd2] {\n          border: 0.5px solid #6483E9;\n          opacity: 0.1;\n}\n.indexColumn .indexColumn-sort ul li .indexColumn-columnDownPart .indexColumn-columnDownPart-down .indexColumn-columnDownPart-vertical[data-v-aa17bfd2] {\n          opacity: 0.1;\n          width: 1px;\n          height: 11px;\n          background: #6483E9;\n          float: left;\n          margin-top: 10px;\n}\n.indexColumn .indexColumn-sort ul li .indexColumn-columnDownPart .indexColumn-columnDownPart-down div[data-v-aa17bfd2]:nth-child(odd) {\n          cursor: pointer;\n          width: 78px;\n          float: left;\n          text-align: center;\n          font-family: PingFangSC-Medium;\n          font-size: 12px;\n          color: #4B67D6;\n          letter-spacing: 0;\n          line-height: 31.5px;\n}\n.indexColumn .indexColumn-sort ul li .indexColumn-columnDownPart .indexColumn-columnDownPart-down div[data-v-aa17bfd2]:nth-child(5) {\n          color: #EB3B46;\n}\n.indexColumn .indexColumn-sort ul li[data-v-aa17bfd2]:nth-child(3n+1) {\n      margin-left: 44px;\n}\n.indexColumn .indexColumn-sort ul li[data-v-aa17bfd2]:nth-child(3n) {\n      margin-right: 44px;\n}\n.indexColumn-cloak[data-v-aa17bfd2] {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 10;\n  opacity: 0.7;\n  background: #000000;\n}\n.indexColumn-popupWindow[data-v-aa17bfd2] {\n  z-index: 11;\n  position: fixed;\n  left: 0%;\n  top: 25%;\n  bottom: 0;\n  right: 0;\n  text-align: center;\n}\n.indexColumn-popupWindow .indexColumn-popupWindow-title[data-v-aa17bfd2] {\n    color: #222222;\n    letter-spacing: 0;\n    line-height: 24px;\n    text-align: center;\n}\n.indexColumn-popupWindow .el-message-box[data-v-aa17bfd2] {\n    height: 450px;\n}\n.indexColumn-popupWindow .el-message-box .indexColumn-popupWindow-iconSelected[data-v-aa17bfd2] {\n      float: left;\n      top: -2px;\n}\n.indexColumn-popupWindow .el-message-box .indexColumn-popupWindow-subhead[data-v-aa17bfd2] {\n      margin: 10px 0 6px 0;\n      font-family: PingFangSC-Regular;\n      font-size: 16px;\n      color: #666666;\n      letter-spacing: 0;\n      line-height: 16px;\n}\n.indexColumn-popupWindow .el-message-box ul[data-v-aa17bfd2] {\n      height: 276px;\n      overflow-y: auto;\n}\n.indexColumn-popupWindow .el-message-box ul li[data-v-aa17bfd2] {\n        cursor: pointer;\n        position: relative;\n        font-family: PingFangSC-Regular;\n        font-size: 18px;\n        color: #222222;\n        letter-spacing: 0;\n        height: 22px;\n        float: left;\n        width: 246px;\n        margin: 10px 0px;\n}\n.indexColumn-popupWindow .el-message-box .indexColumn-popupWindow-left[data-v-aa17bfd2] {\n      width: 264px;\n      margin-left: 13px;\n      float: left;\n}\n.indexColumn-popupWindow .el-message-box .indexColumn-popupWindow-left li .indexColumn-popupWindow-iconSelected[data-v-aa17bfd2] {\n        position: relative;\n}\n.indexColumn-popupWindow .el-message-box .indexColumn-popupWindow-left li .indexColumn-popupWindow-columnName[data-v-aa17bfd2] {\n        margin-left: 27px;\n}\n.indexColumn-popupWindow .el-message-box .indexColumn-popupWindow-left .indexColumn-popupWindow-chooseBtn[data-v-aa17bfd2] {\n        cursor: pointer;\n        text-align: center;\n        line-height: 41px;\n        width: 264px;\n        height: 41px;\n        background: #4B67D6;\n        border-radius: 3px;\n        font-family: PingFangSC-Regular;\n        font-size: 15px;\n        color: #FFFFFF;\n        letter-spacing: 0;\n        margin: 0 auto;\n}\n.indexColumn-popupWindow .el-message-box .indexColumn-popupWindow-separateLine[data-v-aa17bfd2] {\n      width: 0.5px;\n      background: #E9EBED;\n      margin: 10px 30px;\n      float: left;\n      height: 350px;\n}\n.indexColumn-popupWindow .el-message-box .indexColumn-popupWindow-right[data-v-aa17bfd2] {\n      width: 264px;\n      float: left;\n}\n.indexColumn-popupWindow .el-message-box .indexColumn-popupWindow-right li .indexColumn-popupWindow-dot[data-v-aa17bfd2] {\n        width: 4px;\n        height: 4px;\n        background: #BBBBBB;\n        float: left;\n        position: relative;\n        top: 6px;\n}\n.indexColumn-popupWindow .el-message-box .indexColumn-popupWindow-right li .indexColumn-popupWindow-columnName[data-v-aa17bfd2] {\n        margin-left: 10px;\n}\n.indexColumn-popupWindow .el-message-box .indexColumn-popupWindow-right .indexColumn-popupWindow-chooseBtn[data-v-aa17bfd2] {\n        cursor: pointer;\n        text-align: center;\n        line-height: 41px;\n        width: 264px;\n        height: 41px;\n        background: #A1A8C0;\n        border-radius: 3px;\n        font-family: PingFangSC-Regular;\n        font-size: 15px;\n        color: #FFFFFF;\n        letter-spacing: 0;\n        margin: 0 auto;\n}\n",""])},989:function(n,i,t){"use strict";t.r(i);var o=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("section",{staticClass:"indexColumn"},[o("h3",[t._v("首页栏目排序")]),t._v(" "),o("div",{staticClass:"indexColumn-sort"},[o("ul",[t._l(t.list,function(i,n){return o("li",{key:n},[o("div",{staticClass:"indexColumn-columnUpPart"},[o("div",{staticClass:"indexColumn-columnUpPart-left"},[t._v(t._s(n+1)+".")]),t._v(" "),o("div",{staticClass:"indexColumn-columnUpPart-right"},[o("span",{on:{click:function(n){t.movePrevious(i)}}},[o("i",{staticClass:"el-icon-caret-left"}),o("i",[t._v("上移")])]),t._v(" "),o("span",{on:{click:function(n){t.moveNext(i)}}},[o("i",[t._v("下移")]),o("i",{staticClass:"el-icon-caret-right"})])])]),t._v(" "),o("div",{staticClass:"indexColumn-columnDownPart"},[o("div",{staticClass:"indexColumn-columnDownPart-up"},[o("h6",[t._v(t._s(i.columnName))])]),t._v(" "),o("div",{staticClass:"indexColumn-columnDownPart-middleLine"}),t._v(" "),o("div",{staticClass:"indexColumn-columnDownPart-down"},[o("div",{on:{click:function(n){t.stick(i)}}},[t._v(t._s(1==i.isHeader?"取消置顶":"置顶"))]),t._v(" "),o("div",{staticClass:"indexColumn-columnDownPart-vertical"}),t._v(" "),o("div",{on:{click:function(n){t.directiveHref(i)}}},[t._v("详情")]),t._v(" "),o("div",{staticClass:"indexColumn-columnDownPart-vertical"}),t._v(" "),o("div",{on:{click:function(n){t.remove(i)}}},[t._v("下架")])])])])}),t._v(" "),o("li",{on:{click:t.setColumnBtnCallPopupWindow}},[t._m(0)])],2),t._v(" "),o("div",{staticClass:"indexColumn-publish"},[o("div",{staticClass:"indexColumn-publish-btn",on:{click:t.publishColumnSort}},[t._v("上线\n      ")])])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isPopupWindow,expression:"isPopupWindow"}],staticClass:"indexColumn-cloak"}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isPopupWindow,expression:"isPopupWindow"}],staticClass:"indexColumn-popupWindow"},[o("div",{staticClass:"el-message-box",style:t.popupWindowStyle},[o("div",{staticClass:"el-message-box__header"},[o("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:t.closePopupWindow}},[o("i",{staticClass:"el-message-box__close el-icon-close"})])]),t._v(" "),t._m(1),t._v(" "),o("div",{staticClass:"el-message-box__content"},[o("div",[t.popupLeftList.length?o("div",{staticClass:"indexColumn-popupWindow-left"},[o("div",{staticClass:"indexColumn-popupWindow-subhead"},[t._v("可选栏目")]),t._v(" "),o("ul",t._l(t.popupLeftList,function(i){return o("li",{key:i.columnId,on:{click:function(n){t.chooseColumn(i)}}},[o("div",{staticClass:"indexColumn-popupWindow-iconSelected"},[o("img",{attrs:{src:i.selected?t.selectedIcon.selected:t.selectedIcon.unselected}})]),t._v(" "),o("div",{staticClass:"indexColumn-popupWindow-columnName"},[t._v(t._s(i.columnName))])])})),t._v(" "),o("div",{staticClass:"indexColumn-popupWindow-chooseBtn",on:{click:t.setColumn}},[t._v("保存\n            ")])]):t._e(),t._v(" "),t.popupLeftList.length?o("div",{staticClass:"indexColumn-popupWindow-separateLine"}):t._e(),t._v(" "),o("div",{staticClass:"indexColumn-popupWindow-right",style:t.popupWindowRightStyle},[o("div",{staticClass:"indexColumn-popupWindow-subhead"},[t._v("全部栏目")]),t._v(" "),o("ul",t._l(t.popupRightList,function(n){return o("li",{key:n.columnId},[o("div",{staticClass:"indexColumn-popupWindow-dot"}),t._v(" "),o("div",{staticClass:"indexColumn-popupWindow-columnName"},[t._v(t._s(n.columnName)+"\n                  "+t._s(1==n.showType?"(已在首页)":"(测试网)")+"\n                ")])])})),t._v(" "),o("router-link",{staticClass:"indexColumn-popupWindow-around",attrs:{to:{path:"/columnManager",query:{}}}},[o("div",{staticClass:"indexColumn-popupWindow-chooseBtn"},[t._v("去栏目后台新增一个栏目")])])],1)])])])])])};o._withStripped=!0;var e=t(105),l=t.n(e),a=t(70),s=t.n(a),d=t(68),u={data:function(){return{list:[],popupLeftList:[],popupRightList:[],isPopupWindow:!1,selectedIcon:{selected:t(925),unselected:t(926)}}},mounted:function(){this.init()},destroyed:function(){d.default.goBack()},computed:{popupWindowStyle:function(){return this.popupLeftList.length&&this.popupRightList.length?{width:"650px"}:""},popupWindowRightStyle:function(){return this.popupLeftList.length?"":{"margin-left":"64px"}}},methods:{init:function(){d.default.openLoading("加载中...");var n=d.default.sendAxios("indexColumnList",{isValid:1,showType:1,sortType:2,firstResult:0,maxResult:50}),i=this;n.then(function(n){d.default.closeLoading(),n.responseStatus&&0<n.responseData.dataList.length?i.list=n.responseData.dataList:i.$allin_confirm({title:"提示",content:"暂无数据",type:"notice"})}).catch(function(n){d.default.closeLoading(),d.default.axios.isCancel(n)||i.$allin_confirm({title:"提示",content:"查询失败",type:"notice"})})},directiveHref:function(n){var i="";switch(parseInt(n.columnType)){case 1:i="courseTypeColumn";break;case 2:i="videoTypeColumn";break;case 3:i="liveTypeColumn";break;case 4:i="activityColumn";break;case 5:window.open("//manager.allinmd.cn/allin_manager_platform/mallBackControlAction!login_index","_blank");break;default:i="indexColumn"}i&&this.$router.push({path:i,query:{columnId:n.columnId,columnName:n.columnName}})},publishColumnSort:function(){var i=this;this.$allin_confirm({title:"提示",content:"确定将当前的首页栏目展示上线到外网么？",done:function(){d.default.openLoading("发布中..."),d.default.sendAxios("publishColumn",{configList:s()(i.getDifferenceColumn())}).then(function(n){d.default.closeLoading(),n.responseStatus?i.$allin_confirm({title:"提示",type:"notice",content:"已上线到外网",btnName:"知道了"}):i.$allin_confirm({title:"提示",type:"notice",content:"上线到外网失败",btnName:"知道了"})}).catch(function(n){d.default.closeLoading(),d.default.axios.isCancel(n)||i.$allin_confirm({title:"提示",content:"上线到外网失败",btnName:"知道了",type:"notice"})})}})},chooseColumn:function(n){for(var i=0;i<this.popupLeftList.length;i++)this.popupLeftList[i].columnId===n.columnId&&(this.popupLeftList[i].selected?this.$set(this.popupLeftList,i,l()(this.popupLeftList[i],{selected:!1})):this.$set(this.popupLeftList,i,l()(this.popupLeftList[i],{selected:!0})))},getDifferenceColumn:function(){return JSON.parse(s()(this.list)).concat(this.popupLeftList)},closePopupWindow:function(){this.isPopupWindow=!1},setColumnBtnCallPopupWindow:function(){if(this.isPopupWindow=!0,0<this.popupLeftList.length||0<this.popupRightList.length)return!1;var n=d.default.sendAxios("indexColumnList",{isValid:1,showType:0,sortType:1,firstResult:0,maxResult:50}),i=d.default.sendAxios("indexColumnList",{isValid:1,sortType:1,firstResult:0,maxResult:50});d.default.openLoading("加载中...");var t=this;d.default.axios.all([n,i]).then(d.default.axios.spread(function(n,i){d.default.closeLoading(),n.responseStatus&&(t.popupLeftList=n.responseData.dataList?n.responseData.dataList:[]),i.responseStatus&&(t.popupRightList=i.responseData.dataList?i.responseData.dataList:[])})).catch(function(n){d.default.closeLoading(),d.default.axios.isCancel(n)||t.$allin_confirm({title:"提示",content:"查询失败",btnName:"知道了",type:"notice"})})},setColumn:function(){for(var n=0;n<this.popupLeftList.length;n++)this.popupLeftList[n].selected&&(delete this.popupLeftList[n].selected,this.popupLeftList[n].showType=1,this.list.push(this.popupLeftList[n]),this.popupLeftList.splice(n,1),n-=1);this.ascSortId(),this.closePopupWindow()},moveNext:function(n){var i=this.getArrSubscript(n);if(i===this.list.length-1||"1"===this.list[i].isHeader&&"1"!==this.list[i+1].isHeader)return!1;if(null!==i){var t=this.list[i].sortId;this.list[i].sortId=this.list[i+1].sortId,this.list[i+1].sortId=t,this.list.splice(i,1),this.list.splice(i+1,0,n)}},movePrevious:function(n){var i=this.getArrSubscript(n);if(0===i||"1"===this.list[i-1].isHeader&&"1"!==this.list[i].isHeader)return!1;if(null!==i){var t=this.list[i].sortId;this.list[i].sortId=this.list[i-1].sortId,this.list[i-1].sortId=t,this.list.splice(i,1),this.list.splice(i-1,0,n)}},stick:function(n){var i=this.getArrSubscript(n);if("0"===n.isHeader){if(0===i)return!1;this.list[i].isHeader=1}else this.list[i].isHeader=0;this.ascSortId()},remove:function(i){var t=this;this.$allin_confirm({title:"提示",content:"确定在首页展示下架此栏目吗？",done:function(){var n=t.getArrSubscript(i);t.list[n].showType=0,t.list[n].isHeader=0,t.popupLeftList.push(i),t.list.splice(n,1)}})},getArrSubscript:function(n){for(var i=0;i<this.list.length;i++)if(this.list[i].columnId===n.columnId)return i},ascSortId:function(){this.list.sort(function(n,i){return n.sortId-i.sortId}),this.list.sort(function(n,i){return i.isHeader-n.isHeader})}}},p=(t(927),t(58)),r=Object(p.a)(u,o,[function(){var n=this,i=n.$createElement,t=n._self._c||i;return t("div",{staticClass:"indexColumn-columnAdd"},[t("div",[t("i",{staticClass:"el-icon-circle-plus"}),t("i",[n._v("添加")])]),n._v(" "),t("div",[n._v("1个栏目到首页显示")])])},function(){var n=this.$createElement,i=this._self._c||n;return i("div",{staticClass:"indexColumn-popupWindow-title"},[i("h6",[this._v("添加栏目到首页展示")])])}],!1,null,"aa17bfd2",null);r.options.__file="src/views/operationalConfiguration/indexColumn.vue";i.default=r.exports}}]);