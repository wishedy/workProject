(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{579:function(n,e,t){var r=t(754);"string"==typeof r&&(r=[[n.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(156)(r,o);r.locals&&(n.exports=r.locals)},753:function(n,e,t){"use strict";var r=t(579);t.n(r).a},754:function(n,e,t){(n.exports=t(155)(!1)).push([n.i,"\n.crm-wakeContainer {\n  width: 1200px;\n  margin: 0 auto;\n  background-color: #F6F7FA;\n}\n.crm-wakeContainer .handleContent .areaContent .el-textarea__inner {\n    width: 640px;\n    height: 90px;\n    background: #F7F9FC;\n    border: 1px solid #E6E6E8;\n    border-radius: 4px;\n    resize: none;\n}\n.crm-wakeContainer .handleContent .el-input__inner:not(.el-date-editor) {\n    background: #F7F9FC;\n    border: 1px solid #E6E6E8;\n    border-radius: 4px;\n    line-height: 32px;\n    height: 32px;\n}\n.crm-wakeContainer .handleContent .el-radio__input.is-checked + .el-radio__label {\n    color: #4B67D6;\n}\n.crm-wakeContainer .handleContent .el-radio__inner:after {\n    background: #4B67D6;\n    border-color: #4B67D6;\n    width: 10px;\n    height: 10px;\n}\n.crm-wakeContainer .handleContent .el-radio {\n    color: #999999;\n}\n.crm-wakeContainer .handleContent .el-radio__input.is-checked .el-radio__inner {\n    border-color: #4B67D6;\n    background: #ffffff;\n    width: 14px;\n    height: 14px;\n}\n.crm-wakeContainer .handleContent .el-button {\n    width: 140px;\n    height: 32px;\n    background: #3846DC;\n    border-radius: 3px;\n    line-height: 32px;\n    padding: inherit;\n    border: none;\n    color: #ffffff;\n}\n.crm-wakeContainer .handleContent .el-button:hover {\n      color: #ffffff;\n      border-color: inherit;\n}\n.crm-wakeContainer .handleContent .cancelBtn.el-button {\n    background: #A1A8C0;\n    margin-left: 25px;\n}\n.crm-wakeContainer .container {\n    flex-direction: column;\n    position: relative;\n}\n.crm-wakeContainer .container .wrapper {\n      background: none;\n      width: 100%;\n      /*padding: 0 20px;*/\n      flex-shrink: 0;\n      box-sizing: border-box;\n      display: block;\n}\n.crm-wakeContainer .container .al-bs-des {\n      background: #FFFFFF;\n      box-shadow: 0 4px 10px 0 rgba(42, 53, 102, 0.04);\n      border-radius: 3px;\n      height: 86px;\n      padding-top: 25px;\n      width: 100%;\n}\n.crm-wakeContainer .container .al-bs-des .dot {\n        width: 7px;\n        height: 7px;\n        background: #4B67D6;\n        border-radius: 50%;\n        float: left;\n        margin: 5px 7px 30px 30px;\n}\n.crm-wakeContainer .container .al-bs-des .des-content {\n        float: left;\n}\n.crm-wakeContainer .container .al-bs-des .des-content span {\n          display: block;\n}\n.crm-wakeContainer .container .al-bs-des .des-content .title {\n          font-size: 18px;\n          color: #222222;\n          font-weight: 600;\n}\n.crm-wakeContainer .container .al-bs-des .des-content .title .special {\n            font-size: 14px;\n            color: #222222;\n}\n.crm-wakeContainer .container .al-bs-des .des-content .title .state {\n            box-sizing: border-box;\n            display: inline-block;\n            border: 1px solid #4B67D6;\n            text-align: center;\n            border-radius: 3px;\n            width: 60px;\n            height: 27px;\n            font-size: 13px;\n            color: #6B748C;\n            line-height: 24px;\n}\n.crm-wakeContainer .container .al-bs-des .des-content .produce {\n          font-size: 14px;\n          color: #555555;\n          margin-top: 10px;\n}\n.crm-wakeContainer .container .handleContent {\n      min-height: 397px;\n      margin: 40px 0 60px;\n      padding: 40px 0 40px 58px;\n      background: #ffffff;\n}\n.crm-wakeContainer .container .handleContent .el-form-item .formItem {\n        width: 300px;\n        height: 32px;\n        border-radius: 4px;\n}\n.crm-wakeContainer .al-bs-header {\n    font-size: 20px;\n    color: #222222;\n    line-height: 20px;\n    background: none;\n    font-weight: bold;\n    margin: 37px 0 25px 0;\n}\n.crm-wakeContainer .submit {\n    position: absolute;\n    left: 137px;\n    bottom: 120px;\n}\n.crm-wakeContainer .el-form-item__label, .crm-wakeContainer .el-form-item__content {\n    color: #555;\n    font-size: 14px;\n}\n.crm-wakeContainer .ev-quesFormHei .el-form-item__label, .crm-wakeContainer .ev-quesFormHei .el-form-item__content {\n    line-height: 32px;\n}\n.crm-wakeContainer .el-form-item {\n    margin-bottom: 20px;\n}\n.crm-wakeContainer .el-form-item:nth-child(2) {\n    margin-bottom: 80px;\n}\n.crm-wakeContainer .el-form-item:nth-child(4) {\n    margin-bottom: 60px;\n}\n.crm-wakeContainer .el-select .el-input.is-focus .el-input__inner, .crm-wakeContainer .el-select .el-input__inner:focus {\n    border-color: #4B67D6 !important;\n}\n.crm-wakeContainer .el-form-item.is-success .el-input__inner, .crm-wakeContainer .el-form-item.is-success .el-textarea__inner {\n    border-color: #E6E6E8 !important;\n}\n.crm-wakeContainer .el-form-item.is-success .el-input__inner, .crm-wakeContainer .el-form-item.is-success .el-input__inner:focus, .crm-wakeContainer .el-form-item.is-success .el-textarea__inner, .crm-wakeContainer .el-form-item.is-success .el-textarea__inner:focus {\n    border-color: #E6E6E8 !important;\n}\n.crm-wakeContainer .el-button:active, .crm-wakeContainer .el-button:focus, .crm-wakeContainer .el-button:hover {\n    background: #a1a8c0 !important;\n    border: none !important;\n    color: #fff !important;\n}\n.crm-wakeContainer .el-button--primary:focus, .crm-wakeContainer .el-button--primary:hover, .crm-wakeContainer .el-button--primary.is-active, .crm-wakeContainer .el-button--primary:active {\n    background: #3846DC !important;\n    border: none !important;\n    color: #fff !important;\n}\n.crm-wakeContainer .submitBtn:focus, .crm-wakeContainer .submitBtn:hover, .crm-wakeContainer .submitBtn.is-active, .crm-wakeContainer .submitBtn:active {\n    background: #3846DC !important;\n    border: none !important;\n    color: #fff !important;\n}\n.crm-wakeContainer .el-form-item.is-error .el-input__inner, .crm-wakeContainer .el-form-item.is-error .el-input__inner:focus, .crm-wakeContainer .el-form-item.is-error .el-textarea__inner, .crm-wakeContainer .el-form-item.is-error .el-textarea__inner:focus, .crm-wakeContainer .el-message-box__input input.invalid, .crm-wakeContainer .el-message-box__input input.invalid:focus {\n    border-color: #f56c6c !important;\n}\n.el-select-dropdown.is-multiple .el-select-dropdown__item.selected, .el-select-dropdown__item.selected {\n  color: #4B67D6 !important;\n}\n.addInput {\n  background: #F7F9FC;\n  border: 1px solid #E6E6E8;\n  border-radius: 4px;\n  line-height: 32px;\n  height: 32px;\n  padding: 0 15px;\n  box-sizing: border-box;\n}\n.addInput.error {\n    border: 1px solid red;\n}\n.addBtn {\n  display: inline-block;\n  width: 90px;\n  height: 32px;\n  background: #3846DC;\n  border-radius: 3px;\n  line-height: 32px;\n  padding: inherit;\n  border: none;\n  color: #ffffff;\n  cursor: pointer;\n  margin-left: 15px;\n  text-align: center;\n}\n.bName {\n  padding-left: 15px;\n}\n",""])},988:function(n,e,t){"use strict";t.r(e);var r=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("section",{staticClass:"crm-wakeContainer"},[t._m(0),t._v(" "),r("el-container",[r("el-container",{staticClass:"container"},[r("el-container",{staticClass:"wrapper"},[r("el-form",{ref:"formLabelAlign",staticClass:"handleContent",attrs:{"label-position":t.labelPosition,"label-width":"80px",model:t.formLabelAlign}},[r("el-form-item",{staticClass:"ev-quesFormHei",attrs:{label:"锦囊名",prop:"name"}},[r("div",{staticClass:"bName"},[t._v(t._s(t.formLabelAlign.name))])]),t._v(" "),r("el-form-item",{attrs:{label:"召出词","label-width":"80px",prop:"region"}},t._l(t.wakeUpArr,function(n,e){return 0<t.wakeUpArr.length?r("aside",{key:e},[r("input",{staticClass:"formItem addInput ev-addInput",domProps:{value:n.keyWord},on:{input:function(n){t.inputVal(e)}}}),t._v(" "),0==e?r("div",{staticClass:"addBtn",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.addWakeUpCon(n)}}},[t._v("新增一行")]):t._e()]):t._e()})),t._v(" "),r("div",{staticClass:"block submit"},[r("el-button",{staticClass:"submitBtn",on:{click:t.saveInfo}},[t._v("提交")]),t._v(" "),r("el-button",{staticClass:"cancelBtn",on:{click:function(n){t.resetForm("formLabelAlign")}}},[t._v("返回")])],1)],1)],1)],1)],1)],1)};r._withStripped=!0;var m=t(59),u=t(69),f=t(68),o=(t(72),{data:function(){return{bId:"",labelPosition:"right",formLabelAlign:{name:""},wakeUpArr:[]}},methods:{resetForm:function(n){var e=this;if(e.$refs[n].resetFields(),window.history.length<=1)return e.$router.push({path:"/"}),!1;e.$router.go(-1)},addWakeUpCon:function(){this.wakeUpArr.push({keyWord:"",id:""})},inputVal:function(n){var e=this,t=document.getElementsByClassName("ev-addInput")[n].value.toString().trim();30<f.default.getByteLen(t)?(document.getElementsByClassName("ev-addInput")[n].value=f.default.getStrLen2(t,30),e.wakeUpArr[n].keyWord=f.default.getStrLen2(t,30)):e.wakeUpArr[n].keyWord=t,e.wakeUpArr[n].id||(e.wakeUpArr[n].id="")},saveInfo:function(){var e=this,t=this;if(t.wakeUpArr.length&&0<t.wakeUpArr.length){for(var n=[],r=[],o=!1,a=[],i=0;i<t.wakeUpArr.length;i++){var l=t.wakeUpArr[i].keyWord;if(l){var s=l.toString().trim();-1==r.indexOf(s)?r.push(s):(o=!0,a.push(i)),n.push({keyWord:s,id:t.wakeUpArr[i].id?t.wakeUpArr[i].id:""})}else!l&&t.wakeUpArr[i].id&&n.push({keyWord:"",id:t.wakeUpArr[i].id})}if(n.length&&0<n.length)if(0==o){for(var d=0;d<document.getElementsByClassName("ev-addInput").length;d++){document.getElementsByClassName("ev-addInput")[d].classList.remove("error")}var c={brochureId:t.bId,resultWordList:n};f.default.openLoading("加载中..."),Object(m.a)({method:u.a.keyWordSave.type,url:u.a.keyWordSave.url,data:c}).then(function(n){if(f.default.closeLoading(),n&&n.data&&n.data.responseObject.responseStatus){if(window.history.length<=1)return t.$router.push({path:"kitsList"}),!1;t.$router.go(-1)}else e.$message({type:"info",message:"保存失败，请重试！"})}).catch(function(n){f.default.closeLoading(),e.$allin_confirm({title:"提示",content:"提交失败请重试",type:"notice"})})}else{document.getElementsByClassName("ev-addInput")[0].classList.remove("error");for(var p=0;p<a.length;p++)document.getElementsByClassName("ev-addInput")[a[p]].classList.add("error");this.$message({type:"info",message:"存在重复词条，保存失败！"})}else{if(window.history.length<=1)return t.$router.push({path:"/"}),!1;t.$router.go(-1)}}else{if(window.history.length<=1)return t.$router.push({path:"/"}),!1;t.$router.go(-1)}},getInfo:function(){var e=this,a=this;f.default.openLoading("加载中..."),Object(m.a)({method:u.a.keyWordGet.type,url:u.a.keyWordGet.url,params:{brochureId:a.bId?a.bId:"",firstResult:0,maxResult:1}}).then(function(n){if(f.default.closeLoading(),n&&n.data&&f.default.hasResponseData(n.data)){var e=n.data.responseObject.responseData.dataList;if(e&&0<e.length)if(a.formLabelAlign.name=e[0].brochureName,e[0].keyWordList&&0<e[0].keyWordList.length)for(var t=0;t<e[0].keyWordList.length;t++){var r=e[0].keyWordList[t],o={keyWord:r.keyWord,id:r.id};a.wakeUpArr.push(o)}else a.wakeUpArr=[{keyWord:"",id:""}];else a.wakeUpArr=[{keyWord:"",id:""}]}}).catch(function(n){f.default.closeLoading(),e.$allin_confirm({title:"提示",content:"获取失败，请刷新重试",type:"notice"})})}},mounted:function(){var n=this;if(n.$route.query.bId)n.bId=n.$route.query.bId,n.getInfo();else{if(window.history.length<=1)return n.$router.push({path:"/"}),!1;n.$router.go(-1)}},destroyed:function(){document.onkeydown=null,f.default.goBack()}}),a=(t(753),t(58)),i=Object(a.a)(o,r,[function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("section",[t("h1",{staticClass:"al-bs-header"},[n._v("\n      锦囊管理后台 > 召出词编辑页\n    ")])])}],!1,null,null,null);i.options.__file="src/views/kitsList/wakeUpEdit.vue";e.default=i.exports}}]);