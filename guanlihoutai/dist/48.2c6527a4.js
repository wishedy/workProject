(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{627:function(a,n,t){var e=t(848);"string"==typeof e&&(e=[[a.i,e,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(156)(e,o);e.locals&&(a.exports=e.locals)},847:function(a,n,t){"use strict";var e=t(627);t.n(e).a},848:function(a,n,t){(a.exports=t(155)(!1)).push([a.i,'\n@charset "UTF-8";\n/* 优惠券通用列表样式*/\n.coupon-manager-main-container {\n  width: 1200px;\n  margin: 0 auto;\n  background: #F6F7FA;\n  margin-top: 32px;\n}\n.coupon-manager-main-container h3 {\n    ont-family: PingFangSC-Semibold;\n    font-size: 20px;\n    color: #2C343A;\n    letter-spacing: 0;\n    line-height: 20px;\n    margin-bottom: 25px;\n}\n.coupon-manager-main-container .coupon-manager-search-area {\n    padding: 25px 0 0;\n    background: #ffffff;\n    box-shadow: 0 4px 10px 0 rgba(42, 53, 102, 0.04);\n    border-radius: 4px;\n    margin-bottom: 30px;\n}\n.coupon-manager-main-container .coupon-manager-search-area .el-input .el-input__inner {\n      background: #F7F9FC;\n      border: 1px solid #E6E6E8;\n      border-radius: 4px;\n}\n.coupon-manager-main-container .coupon-manager-search-area .coupon-search-submit button:nth-of-type(1) {\n      border: none;\n}\n.coupon-manager-main-container .coupon-manager-search-area .coupon-search-submit button:nth-of-type(2) {\n      color: #4B67D6;\n      border: 1px solid #4B67D6;\n      border-radius: 4px;\n}\n.coupon-manager-main-container .coupon-manager-button {\n    margin-bottom: 30px;\n}\n.coupon-manager-main-container .coupon-manager-button button {\n      color: #4B67D6;\n      border: 1px solid #4B67D6;\n      border-radius: 3px;\n}\n.coupon-manager-main-container .coupon-manager-button button span {\n        padding-right: 2px;\n}\n.coupon-manager-main-container .coupon-manager-table {\n    margin-bottom: 30px;\n}\n.coupon-manager-main-container .coupon-manager-table .el-table .cell {\n      font-family: PingFangSC-Regular;\n      font-size: 14px;\n      color: #333333;\n      letter-spacing: 0;\n      line-height: 1.5;\n}\n.coupon-manager-main-container .coupon-manager-table th.is-leaf {\n      font-weight: bold;\n}\n.coupon-manager-main-container .coupon-manager-table button {\n      width: 74px;\n      height: 28px;\n      padding: 0;\n      border: 1px solid #4B67D6;\n      border-radius: 3px;\n      font-family: PingFangSC-Regular;\n      font-size: 13px;\n      color: #4B67D6;\n      letter-spacing: 0;\n}\n.coupon-manager-main-container .coupon-manager-table button.changeState {\n        background: #EDF1FF;\n        border: 1px solid #4B67D6;\n        border-radius: 3px;\n        font-family: PingFangSC-Regular;\n        color: #4B67D6;\n        font-size: 13px;\n        letter-spacing: 0;\n        line-height: 1.2;\n}\n.coupon-manager-main-container .coupon-manager-table button.changeState.remove {\n          background: #FFEBE3;\n          border: 1px solid #FF7E4D;\n          color: #FF7E4D;\n}\n.coupon-manager-main-container .coupon-manager-table .coupon-table-index-btn {\n      background: #4B67D6;\n      border-radius: 3px;\n      font-family: PingFangSC-Regular;\n      font-size: 13px;\n      color: #FFFFFF;\n      letter-spacing: 0;\n      line-height: 13px;\n}\n.coupon-manager-main-container .coupon-manager-pagination {\n    float: right;\n}\n',""])},982:function(a,n,t){"use strict";t.r(n);var e=function(){var n=this,a=n.$createElement,t=n._self._c||a;return t("section",{staticClass:"coupon-manager-main-container"},[t("h3",[n._v("优惠券券号列表")]),n._v(" "),t("section",{staticClass:"coupon-manager-search-area"},[t("el-form",{attrs:{"label-width":"120px"}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"优惠券批次号"}},[t("el-input",{attrs:{placeholder:"优惠券批次号"},model:{value:n.searchConditionData.couponBatchCode,callback:function(a){n.$set(n.searchConditionData,"couponBatchCode",a)},expression:"searchConditionData.couponBatchCode"}})],1)],1),n._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"优惠券券号"}},[t("el-input",{attrs:{placeholder:"优惠券券号"},model:{value:n.searchConditionData.couponDetailCode,callback:function(a){n.$set(n.searchConditionData,"couponDetailCode",a)},expression:"searchConditionData.couponDetailCode"}})],1)],1),n._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"使用状态"}},[t("el-select",{attrs:{size:"medium",placeholder:"全部"},model:{value:n.searchConditionData.useState,callback:function(a){n.$set(n.searchConditionData,"useState",a)},expression:"searchConditionData.useState"}},[t("el-option",{attrs:{label:"全部",value:""}}),n._v(" "),t("el-option",{attrs:{label:"未使用",value:"0"}}),n._v(" "),t("el-option",{attrs:{label:"已使用",value:"1"}}),n._v(" "),t("el-option",{attrs:{label:"已过期",value:"2"}})],1)],1)],1)],1),n._v(" "),t("el-row",[t("el-col",[t("el-form-item",{staticClass:"coupon-search-submit",staticStyle:{float:"right","margin-right":"50px"}},[t("el-button",{on:{click:n.clearBtnOnClick}},[n._v("清空条件")]),n._v(" "),t("el-button",{on:{click:n.filterBtnOnClick}},[n._v("筛选")])],1)],1)],1)],1)],1),n._v(" "),t("section",{staticClass:"coupon-manager-button"},[t("el-row",[t("el-col",[t("el-button",{on:{click:n.createCouponBtnOnClick}},[t("span",{staticClass:"el-icon-circle-plus"}),n._v("创建优惠券")])],1)],1)],1),n._v(" "),t("section",{staticClass:"coupon-manager-table"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:n.tableData,fit:!0},on:{"cell-dblclick":n.copyContentOnDoubleClick}},[t("el-table-column",{attrs:{prop:"id",width:"80",label:"序号"}}),n._v(" "),t("el-table-column",{attrs:{prop:"couponDetailCode",width:"180",label:"优惠券券号"}}),n._v(" "),t("el-table-column",{attrs:{prop:"couponName",width:"100",label:"优惠券名称"}}),n._v(" "),t("el-table-column",{attrs:{width:"180",prop:"couponBatchCode",label:"批次号"}}),n._v(" "),t("el-table-column",{attrs:{formatter:n.formatterCouponType,width:"100",prop:"couponType",label:"优惠券类型"}}),n._v(" "),t("el-table-column",{attrs:{formatter:n.foramtterCouponDenomination,prop:"couponDenomination",label:"面额"}}),n._v(" "),t("el-table-column",{attrs:{formatter:n.formatterValidDate,prop:"startTime",width:"200",label:"有效期"}}),n._v(" "),t("el-table-column",{attrs:{formatter:n.formatterUseState,prop:"useState",width:"100",label:"券号状态"}}),n._v(" "),t("el-table-column",{attrs:{prop:"customerId",width:"140",label:"领取者ID"}}),n._v(" "),t("el-table-column",{attrs:{prop:"customerName",width:"100",label:"领取者姓名"}}),n._v(" "),t("el-table-column",{attrs:{prop:"useTime",width:"180",label:"使用时间"}}),n._v(" "),t("el-table-column",{attrs:{prop:"orderNumber",width:"180",label:"商品订单号"}})],1)],1),n._v(" "),t("el-row",[t("el-col",[t("section",{staticClass:"coupon-manager-pagination"},[t("el-pagination",{attrs:{"current-page":n.paginationData.currentPage,total:n.paginationData.total,"page-sizes":[10,20,30,40],"page-size":n.paginationData.pageSize,layout:"total, prev, pager, next, jumper ,sizes"},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}})],1)])],1)],1)};e._withStripped=!0;var o=t(68),i=t(69),r=t(59),c={name:"couponVoucherList",data:function(){return{tableData:[],searchConditionData:{couponBatchCode:"",couponDetailCode:"",useState:""},searchConditionEffectiveTime:"",paginationData:{currentPage:1,firstResult:0,maxResult:0,pageSize:20,total:0}}},methods:{getDataList:function(){var t=this;if(this.searchConditionData.useState&&""===this.searchConditionData.couponBatchCode&&""===this.searchConditionData.couponDetailCode)this.$allin_confirm({title:"提示",content:"请输入批次号或码号查询",type:"notice"});else{this.paginationData.maxResult=this.paginationData.pageSize,this.paginationData.firstResult=(this.paginationData.currentPage-1)*this.paginationData.pageSize;var a={firstResult:this.paginationData.firstResult,maxResult:this.paginationData.maxResult};for(var n in this.searchConditionData)this.searchConditionData[n]&&(a[n]=this.searchConditionData[n]);o.default.openLoading("加载中..."),Object(r.a)({method:i.a.getPageCouponDetailList.type,url:i.a.getPageCouponDetailList.url,params:a}).then(function(a){if(o.default.closeLoading(),a&&a.data&&a.data.responseObject&&a.data.responseObject.responseData){var n=a.data.responseObject.responseData;t.tableData=n.items,t.paginationData.total=n.total}else t.$allin_confirm({title:"提示",content:"查询失败",type:"notice"}),t.tableData=[],t.paginationData.total=0}).catch(function(a){o.default.closeLoading(),t.$allin_confirm({title:"提示",content:"查询失败",type:"notice"})})}},clearBtnOnClick:function(){for(var a in this.searchConditionData)this.searchConditionData[a]=""},filterBtnOnClick:function(){this.paginationData.currentPage=1,this.paginationData.firstResult=0,this.getDataList()},createCouponBtnOnClick:function(){var a=this.$router.resolve({path:"/createCouponSelectList"});window.open(a.href,"_blank")},handleSizeChange:function(a){this.paginationData.pageSize=a,this.getDataList()},handleCurrentChange:function(a){this.paginationData.currentPage=a,this.getDataList()},copyContentOnDoubleClick:function(a,n){var t="",e="";switch(n.property){case"couponBatchCode":t="批次号",e=a.couponBatchCode;break;case"customerId":t="领取者ID",e=a.customerId;break;case"orderNumber":t="商品订单号",e=a.orderNumber}if(t){var o=document.createElement("input");o.value=e,document.body.appendChild(o),o.select(),document.execCommand("Copy"),this.$message({message:"已成功复制"+t+"到剪切板",type:"success"}),o.remove()}},foramtterCouponDenomination:function(a){return"￥"+a.couponDenomination},formatterValidDate:function(a){return a.startTime+"至"+a.endTime},formatterUseState:function(a){var n="";switch(a.useState){case 0:n="未使用";break;case 1:n="已使用";break;case 2:n="已过期"}return n},formatterCouponType:function(a){var n="";switch(a.couponType){case 0:n="通用优惠券";break;case 1:n="商品优惠券"}return n}},created:function(){this.$route.query.couponBatchCode&&(this.searchConditionData.couponBatchCode=this.$route.query.couponBatchCode)},mounted:function(){var n=this;this.getDataList(),document.onkeydown=function(a){13===a.keyCode&&n.getDataList()}},destroyed:function(){document.onkeydown=null,o.default.goBack()}},l=(t(847),t(58)),s=Object(l.a)(c,e,[],!1,null,null,null);s.options.__file="src/views/couponManager/couponVoucherList.vue";n.default=s.exports}}]);