(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1012:function(e,t,n){"use strict";n.r(t);var a=function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("section",{staticClass:"patientEduContent"},[i("div",{staticClass:"TopTitle"},[a._v("患教手册管理后台 > 手册编辑页")]),a._v(" "),i("section",{staticClass:"patientEduDesc"},[i("el-form",{ref:"ruleFormCon",staticClass:"demo-ruleForm",attrs:{model:a.ruleForm,rules:a.rules,"label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[i("el-form-item",{attrs:{label:"手册名称",prop:"name"}},[i("el-input",{staticClass:"width300",attrs:{placeholder:"手册名称（最多20字）"},model:{value:a.ruleForm.name,callback:function(e){a.$set(a.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"适应人群",prop:"people"}},[i("el-input",{staticClass:"width300",attrs:{placeholder:"适应人群（最多100字）"},model:{value:a.ruleForm.people,callback:function(e){a.$set(a.ruleForm,"people",e)},expression:"ruleForm.people"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"专家说",prop:"expert"}},[i("el-input",{attrs:{type:"textarea",placeholder:"专家说（最多100字）"},model:{value:a.ruleForm.expert,callback:function(e){a.$set(a.ruleForm,"expert",e)},expression:"ruleForm.expert"}})],1),a._v(" "),i("el-form-item",{staticClass:"addDesc",attrs:{label:"添加内容",prop:"addDesc"}},[i("el-input",{staticStyle:{display:"none"},attrs:{type:"hidden"},model:{value:a.ruleForm.addDesc,callback:function(e){a.$set(a.ruleForm,"addDesc",e)},expression:"ruleForm.addDesc"}}),a._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:a.chooseTypeBtn,expression:"chooseTypeBtn"}],staticClass:"el-icon-plus",on:{mousedown:function(e){return e.stopPropagation(),a.chooseTxt(e)}}},[a._v("选择类型")]),a._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:a.createTypeBtn,expression:"createTypeBtn"}],staticClass:"el-icon-plus",on:{click:a.creatTypeBtn}},[a._v("创建分类")])],1),a._v(" "),a._l(a.creTypeArr,function(t,n){return i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:a.showTypeList&&t.manualList,expression:"showTypeList&&item.manualList"}],key:n,attrs:{label:""}},[i("div",{staticClass:"addClassContent"},[i("span",{staticClass:"triangleUp"}),a._v(" "),i("div",{staticClass:"addClassTop"},[i("el-input",{directives:[{name:"show",rawName:"v-show",value:a.createTypeBtn,expression:"createTypeBtn"}],staticClass:"addClass",attrs:{type:"input",placeholder:"填写分类",disabled:!!t.parentNameSave},model:{value:t.parentName,callback:function(e){a.$set(t,"parentName",e)},expression:"item.parentName"}}),a._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:a.createTypeBtn&&t.parentNameSave,expression:"createTypeBtn&&item.parentNameSave"}],staticClass:"editBtn",on:{click:function(e){e.stopPropagation(),a.cliEditBtn(n)}}}),a._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:a.createTypeBtn&&!t.parentNameSave,expression:"createTypeBtn&&!item.parentNameSave"}],attrs:{"data-val":t.parentName},on:{click:function(e){e.stopPropagation(),a.cliSaveBtn(n)}}},[a._v("保存")]),a._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:a.createTypeBtn,expression:"createTypeBtn"}],staticClass:"el-icon-delete",on:{click:function(e){e.stopPropagation(),a.deleTypeBtn(n)}}},[a._v("删除分类")]),a._v(" "),i("span",{staticClass:"el-icon-plus",on:{click:function(e){e.stopPropagation(),a.addTypeBtnCli(n)}}},[a._v("添加内容")])],1),a._v(" "),i("div",{staticClass:"tabContent"},[i("el-table",{ref:"multipleTable",refInFor:!0,staticStyle:{width:"956px"},attrs:{data:t.manualList}},[i("el-table-column",{attrs:{prop:"nodeNum",label:"序号",width:"60"}}),a._v(" "),i("el-table-column",{attrs:{prop:"educationName",label:"资源名称",width:"280"}}),a._v(" "),i("el-table-column",{attrs:{prop:"educationId",label:"患教ID",width:"136"}}),a._v(" "),i("el-table-column",{attrs:{prop:"authNameList",label:"作者",width:"100"}}),a._v(" "),i("el-table-column",{attrs:{prop:"sortId",label:"顺序号",width:"80"},scopedSlots:a._u([{key:"default",fn:function(t){return[i("el-input",{staticClass:"tip sortId",attrs:{type:"input",placeholder:""},on:{input:function(e){a.inputIdFn(n,t.$index,t.row,e)}},model:{value:t.row.sortId,callback:function(e){a.$set(t.row,"sortId",e)},expression:"scope.row.sortId"}})]}}])}),a._v(" "),i("el-table-column",{attrs:{prop:"tipsContent",label:"重复提示",width:"200"},scopedSlots:a._u([{key:"default",fn:function(t){return[i("el-input",{staticClass:"tip",attrs:{type:"textarea",placeholder:"重复提示",maxlength:"20"},on:{input:function(e){a.inputTipFn(n,t.$index,t.row,e)}},model:{value:t.row.tipsContent,callback:function(e){a.$set(t.row,"tipsContent",e)},expression:"scope.row.tipsContent"}})]}}])}),a._v(" "),i("el-table-column",{attrs:{label:"操作",width:"100",prop:"delete"},scopedSlots:a._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){a.handleDelete(t.$index,t.row,n)}}},[a._v("删除\n                  ")])]}}])})],1)],1)])])}),a._v(" "),i("el-form-item",{staticClass:"addDesc",attrs:{label:"专业",prop:"major"}},[i("el-input",{staticStyle:{display:"none"},attrs:{type:"hidden"},model:{value:a.ruleForm.major,callback:function(e){a.$set(a.ruleForm,"major",e)},expression:"ruleForm.major"}}),a._v(" "),i("button",{staticClass:"el-icon-plus",on:{click:function(e){return e.stopPropagation(),a.showMajorFn(e)}}},[a._v("选择专业")]),a._v(" "),a.ShowMajCho?i("ul",{staticClass:"addDescContent"},[i("span",{staticClass:"triangleUp"}),a._v(" "),a._l(a.major,function(e,t){return i("li",{key:t,staticClass:"descItem"},[a._v(a._s(e.labelName))])})],2):a._e()],1),a._v(" "),i("el-form-item",{staticClass:"addDesc",attrs:{label:"疾病阶段",prop:"illness"}},[i("el-input",{staticStyle:{display:"none"},attrs:{type:"hidden"},model:{value:a.ruleForm.illness,callback:function(e){a.$set(a.ruleForm,"illness",e)},expression:"ruleForm.illness"}}),a._v(" "),i("button",{staticClass:"el-icon-plus",on:{click:function(e){return e.stopPropagation(),a.showIllnessFn(e)}}},[a._v("选择标签")]),a._v(" "),a.ShowIllCho?i("ul",{staticClass:"addDescContent"},[i("span",{staticClass:"triangleUp"}),a._v(" "),a._l(a.illness,function(e,t){return i("li",{key:t,staticClass:"descItem"},[a._v(a._s(e.labelName))])})],2):a._e()],1),a._v(" "),i("el-form-item",{attrs:{label:"手册专家",prop:"peopleId"}},[i("el-input",{staticClass:"width300",attrs:{placeholder:"填写用户id，多个用户以“,”隔开"},model:{value:a.ruleForm.peopleId,callback:function(e){a.$set(a.ruleForm,"peopleId",e)},expression:"ruleForm.peopleId"}}),a._v(" "),i("span",{staticClass:"tipTxt"},[a._v("(不填则默认为官方)")])],1),a._v(" "),i("el-form-item",{attrs:{label:"封面",prop:"coverImg"}},[i("upload-img",{attrs:{formData:a.paramData01,imgData:a.imgData01},on:{imgpk:a.imgpk01}})],1),a._v(" "),i("el-form-item",{attrs:{label:"属性",prop:"property"}},[i("el-radio-group",{model:{value:a.ruleForm.property,callback:function(e){a.$set(a.ruleForm,"property",e)},expression:"ruleForm.property"}},[i("el-radio",{attrs:{label:"1"}},[a._v("公开")]),a._v(" "),i("el-radio",{attrs:{label:"2"}},[a._v("隐私(不允许被搜索)")])],1)],1),a._v(" "),i("el-form-item",{attrs:{label:"状态",prop:"state"}},[i("el-radio-group",{model:{value:a.ruleForm.state,callback:function(e){a.$set(a.ruleForm,"state",e)},expression:"ruleForm.state"}},[i("el-radio",{attrs:{label:"2"}},[a._v("下架")]),a._v(" "),i("el-radio",{attrs:{label:"1"}},[a._v("上架")])],1)],1),a._v(" "),i("el-form-item",[i("el-button",{staticClass:"submitBtn",domProps:{textContent:a._s(a.manualId?"保存":"创建手册")},on:{click:function(e){a.submitForm("ruleFormCon")}}},[a._v("保存")]),a._v(" "),i("el-button",{staticClass:"cancleBtn",on:{click:function(e){a.resetForm("ruleFormCon")}}},[a._v("返回")])],1)],2)],1),a._v(" "),i("section",{directives:[{name:"show",rawName:"v-show",value:a.isShowMajor,expression:"isShowMajor"}],staticClass:"selectBox"},[i("section",{staticClass:"selectMajorCon"},[i("i",{staticClass:"closeBtn",on:{click:function(e){e.stopPropagation(),a.chooseMajor(!1)}}}),a._v(" "),i("h3",{staticClass:"title"},[a._v("选择专业")]),a._v(" "),i("ul",{staticClass:"majorList"},a._l(a.majorArrList,function(e,t){return i("li",{key:t,class:{active:1==e.isExist},attrs:{labelId:e.labelId},on:{click:function(e){e.stopPropagation(),a.majorCli(t)}}},[a._v(a._s(e.labelName)+"\n        ")])})),a._v(" "),i("p",{class:{sureBtn:!0,"ev-majorBtn":!0,active:a.majorToSubmit},on:{click:function(e){return e.stopPropagation(),a.majorSub(e)}}},[a._v("确认")])])]),a._v(" "),i("section",{directives:[{name:"show",rawName:"v-show",value:a.isShowIllness,expression:"isShowIllness"}],staticClass:"selectBox"},[i("section",{staticClass:"selectDiseaseCon"},[i("i",{staticClass:"closeBtn",on:{click:function(e){e.stopPropagation(),a.chooseIllness(!1)}}}),a._v(" "),i("h3",{staticClass:"title"},[a._v("选择疾病阶段")]),a._v(" "),i("ul",{staticClass:"diseaseList"},a._l(a.illArrList,function(e,t){return i("li",{key:t,class:{active:1==e.isExist},on:{click:function(e){e.stopPropagation(),a.illnessCli(t)}}},[a._v("\n          "+a._s(e.labelName)+"\n        ")])})),a._v(" "),i("p",{class:{sureBtn:!0,"ev-illnessBtn":!0,active:a.illnessToSubmit},on:{click:function(e){return e.stopPropagation(),a.illnessSub(e)}}},[a._v("确认")])])]),a._v(" "),a.isShowType?i("section",{staticClass:"selectBox"},[i("section",{staticClass:"selectTypeCon"},[i("i",{staticClass:"closeBtn",on:{click:function(e){e.stopPropagation(),a.showTypeFn(!1)}}}),a._v(" "),i("h3",{staticClass:"title"},[a._v("选择类型")]),a._v(" "),i("p",{staticClass:"tips"},[a._v("(确定后无法修改)")]),a._v(" "),i("aside",{staticClass:"selectBtn"},[i("p",{class:{active:a.isClass},on:{click:function(e){e.stopPropagation(),a.typeCho(0)}}},[a._v("分类")]),a._v(" "),i("p",{class:{active:a.isNoClass},on:{click:function(e){e.stopPropagation(),a.typeCho(-1)}}},[a._v("不分类")])]),a._v(" "),i("p",{class:{sureBtn:!0,"ev-majorBtn":!0,active:a.isClass||a.isNoClass},on:{click:function(e){return e.stopPropagation(),a.chooseSub(e)}}},[a._v("确认")])])]):a._e(),a._v(" "),i("section",{directives:[{name:"show",rawName:"v-show",value:a.isShowAdd,expression:"isShowAdd"}],staticClass:"selectBox"},[i("section",{staticClass:"selectConBox"},[i("i",{staticClass:"closeBtn",on:{click:function(e){e.stopPropagation(),a.showAddFn(!1)}}}),a._v(" "),i("h3",{staticClass:"title"},[a._v("选择内容")]),a._v(" "),i("aside",{staticClass:"screeningBox"},[i("el-form",{ref:"ruleForm",staticClass:"contentName",attrs:{model:a.ruleForm,"label-width":"68px"}},[i("el-form-item",{attrs:{label:"查询患教",prop:"paEduName"}},[i("el-input",{staticClass:"conInput",attrs:{placeholder:"患教名称"},model:{value:a.ruleForm.paEduName,callback:function(e){a.$set(a.ruleForm,"paEduName",e)},expression:"ruleForm.paEduName"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"患教ID",prop:"paEduId"}},[i("el-input",{staticClass:"conInput",attrs:{placeholder:"患教ID"},model:{value:a.ruleForm.paEduId,callback:function(e){a.$set(a.ruleForm,"paEduId",e)},expression:"ruleForm.paEduId"}})],1),a._v(" "),i("p",{staticClass:"queryBtn",on:{click:function(e){return e.stopPropagation(),a.searchAddList(e)}}},[a._v("查询")])],1)],1),a._v(" "),i("el-table",{staticClass:"ev-table",attrs:{data:a.typeListArr,width:"100%",height:"500"}},[i("el-table-column",{attrs:{prop:"educationName",label:"患教标题",width:"297"}}),a._v(" "),i("el-table-column",{attrs:{prop:"educationContentType",label:"患教内容类型",width:"128",formatter:a.forType}}),a._v(" "),i("el-table-column",{attrs:{prop:"true",label:"是否有效",width:"100",formatter:a.forVal}},[a._v("有效")]),a._v(" "),i("el-table-column",{attrs:{prop:"isReprint",label:"是否转载",width:"181",formatter:a.forRep}}),a._v(" "),i("el-table-column",{attrs:{prop:"isExist",label:"操作"},scopedSlots:a._u([{key:"default",fn:function(t){return[i("p",{class:{addBtn:!0,active:1==a.typeListArr[t.$index].isExist},domProps:{textContent:a._s(1==a.typeListArr[t.$index].isExist?"已添加":"添加")},on:{click:function(e){a.addCliFn(t.$index,a.typeListArr)}}})]}}])})],1),a._v(" "),10<a.totalCount?i("div",{staticClass:"block ev-pages"},[i("el-pagination",{staticClass:"al-bs-pagination",attrs:{"current-page":a.currentPage,"page-sizes":[10,20,30,50,100],"page-size":a.pageSize,layout:"total, prev, pager, next, jumper, sizes",total:a.totalCount},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1):a._e()],1)])])};a._withStripped=!0;var i=n(70),m=n.n(i),s=n(59),h=n(69),o=n(68),r=n(550),l=n(526),d={name:"patientEduDesc",data:function(){var a=this;return{paramData01:{visitSiteId:25,extName:"",fileContent:"",attType:6,fileName:""},imgData01:{src:"",id:""},ruleForm:{name:"",people:"",expert:"",addDesc:"",peopleId:"",major:"",illness:"",coverImg:"",property:"1",state:"2",paEduName:""},rules:{name:[{required:!0,message:"请填写患教手册名称",trigger:""},{validator:function(e,t,n){t&&20<o.default.getByteLen(t)&&(a.ruleForm.name=a.ruleForm.name.substring(0,20)),n()}}],people:[{required:!1,message:"请填写适应人群",trigger:"blur"},{validator:function(e,t,n){t&&100<o.default.getByteLen(t)&&(a.ruleForm.people=a.ruleForm.people.substring(0,100)),n()}}],expert:[{required:!1,message:"请填写专家说",trigger:"blur"},{validator:function(e,t,n){t&&100<o.default.getByteLen(t)&&(a.ruleForm.expert=a.ruleForm.expert.substring(0,100)),n()}}],addDesc:[{required:!0,message:"请添加内容",trigger:"change"}],major:[{required:!0,message:"请添加专业",trigger:"change"}],illness:[{required:!0,message:"请添加疾病阶段",trigger:"change"}],peopleId:[{required:!1,message:"请填写手册专家",trigger:"change"},{validator:function(e,t,n){t&&(a.ruleForm.peopleId=a.ruleForm.peopleId.replace(/[^\d|,|，]/g,"")),n()}}],coverImg:[{required:!0,message:"请上传封面图片",trigger:"change"}],property:[{required:!0,message:"请选择属性",trigger:"change"}],state:[{required:!0,message:"请选择状态",trigger:"change"}]},isShowAddFlag:!1,addCliFlag:!1,majorArrList:[],majorOldArrList:[],majorNewArrList:[],majorActiveList:"",major:[],isShowMajor:!1,ShowMajCho:!1,choMajor:[],illOldArrList:[],illNewArrList:[],illArrList:[{labelId:"1",labelName:"疾病科普",isExist:0},{labelId:"2",labelName:"疾病自查",isExist:0},{labelId:"3",labelName:"保守治疗",isExist:0},{labelId:"4",labelName:"手术前",isExist:0},{labelId:"5",labelName:"手术中",isExist:0},{labelId:"6",labelName:"手术后",isExist:0},{labelId:"7",labelName:"疾病康复",isExist:0}],isShowIllness:!1,illnessActiveList:"",ShowIllCho:!1,choIllness:[],illness:[],chooseTypeBtn:!0,createTypeBtn:!1,isShowType:!1,showTypeList:!1,typeState:0,isShowAdd:!1,typeListArr:[],creTypeArr:[],creTypeOldArr:[],creDeletObj:{},creSubmitArr:[],creDeletAll:[],creLoadingFlag:!1,addTypeInd:"",currentPage:1,pageSize:10,totalCount:0,isClassify:o.default.getpara().isClassify,manualId:o.default.getpara().manualId,idNum:o.default.getpara().idNum,isAdmin:!1,educationName:"",majorToSubmit:!1,illnessToSubmit:!1,isClass:!1,isNoClass:!1}},components:{uploadImg:r.a},methods:{imgpk01:function(e){var t=this;t.imgData01.src=e.attUrl,t.imgData01.attWidth=e.attWidth,t.imgData01.attHeight=e.attHeight,t.imgData01.attSize=e.attSize,t.imgData01.attName=e.attName,t.imgData01.sendUrl=e.sendUrl,t.imgData01.attFormat=e.attFormat,e.attUrl?this.ruleForm.coverImg=!0:this.ruleForm.coverImg=""},submitForm:function(e){var t=this;0<t.creTypeArr.length?t.ruleForm.addDesc=1:t.ruleForm.addDesc="",t.imgData01.src?this.ruleForm.coverImg=!0:this.ruleForm.coverImg="",this.$refs[e].validate(function(e){if(!e)return!1;t.submitInfoFn()})},submitInfoFn:function(){var t=this,e={};for(var n in e.manualName=t.ruleForm.name,e.adaptCrowd=t.ruleForm.people,e.expertsSay=t.ruleForm.expert,e.openState=t.ruleForm.property,e.state=t.ruleForm.state,e.recommender=t.ruleForm.peopleId.replace(/，/g,","),e.manualId=t.manualId?t.manualId:void 0,e.isValid=1,e.manualLabelList=[],e.attUrl=t.imgData01.sendUrl,e.attId=t.imgData01.id?t.imgData01.id:void 0,e.attName=t.imgData01.attName?t.imgData01.attName:void 0,e.attWidth=t.imgData01.attWidth?t.imgData01.attWidth:void 0,e.attSize=t.imgData01.attSize?t.imgData01.attSize:void 0,e.attType=6,e.attFormat=t.imgData01.attFormat,e.attHeight=t.imgData01.attHeight,e.isClassify=t.isClassify,t.creSubmitArr=[],t.illNewArrList=[],t.majorNewArrList=[],t.majorArrList)1===t.majorArrList[n].isExist&&t.majorNewArrList.push({labelName:t.majorArrList[n].labelName,labelType:"1",labelId:t.majorArrList[n].labelId,id:"",manualId:t.manualId?t.manualId:"",isValid:1});for(var a=[],i=0;i<t.majorOldArrList.length;i++)for(var r=0;r<t.majorNewArrList.length;r++){if(t.majorOldArrList[i].labelId===t.majorNewArrList[r].labelId){t.majorNewArrList[r].id=t.majorOldArrList[i].id;break}r===t.majorNewArrList.length-1&&a.push({labelName:t.majorOldArrList[i].labelName,labelType:"1",labelId:t.majorOldArrList[i].labelId,id:t.majorOldArrList[i].id,manualId:t.manualId?t.manualId:"",isValid:0})}for(var s in t.majorNewArrList)t.manualId?t.majorNewArrList[s].id?a.push({labelName:t.majorNewArrList[s].labelName,labelType:"1",labelId:t.majorNewArrList[s].labelId,id:t.majorNewArrList[s].id?t.majorNewArrList[s].id:"",manualId:t.manualId?t.manualId:"",isValid:t.majorNewArrList[s].id?1:""}):a.push({labelName:t.majorNewArrList[s].labelName,labelType:"1",labelId:t.majorNewArrList[s].labelId,manualId:t.manualId?t.manualId:""}):a.push({labelName:t.majorNewArrList[s].labelName,labelType:"1",labelId:t.majorNewArrList[s].labelId});for(var o in t.illArrList)1===t.illArrList[o].isExist&&t.illNewArrList.push({labelName:t.illArrList[o].labelName,labelType:"2",labelId:t.illArrList[o].labelId,id:"",manualId:t.manualId?t.manualId:"",isValid:1});for(var l=0;l<t.illOldArrList.length;l++)for(var d=0;d<t.illNewArrList.length;d++){if(t.illOldArrList[l].labelId===t.illNewArrList[d].labelId){t.illNewArrList[d].id=t.illOldArrList[l].id;break}d===t.illNewArrList.length-1&&a.push({labelName:t.illOldArrList[l].labelName,labelType:"2",labelId:t.illOldArrList[l].labelId,id:t.illOldArrList[l].id,manualId:t.manualId?t.manualId:"",isValid:0})}for(var p in t.illNewArrList)t.manualId?t.illNewArrList[p].id?a.push({labelName:t.illNewArrList[p].labelName,labelType:"2",labelId:t.illNewArrList[p].labelId,id:t.illNewArrList[p].id?t.illNewArrList[p].id:"",manualId:t.manualId?t.manualId:"",isValid:t.illNewArrList[p].id?1:""}):a.push({labelName:t.illNewArrList[p].labelName,labelType:"2",labelId:t.illNewArrList[p].labelId,manualId:t.manualId?t.manualId:""}):a.push({labelName:t.illNewArrList[p].labelName,labelType:"2",labelId:t.illNewArrList[p].labelId});if(e.manualLabelList=m()(a),t.creDeletAll.length){for(var c in t.creDeletAll)t.creDeletAll[c].isValid=0;t.creSubmitArr=t.creSubmitArr.concat(t.creDeletAll)}for(var u in t.creTypeArr)t.creTypeArr[u].manualList&&(t.creDeletObj.hasOwnProperty(u)?t.creSubmitArr.push({manualList:t.creTypeArr[u].manualList.concat(t.creDeletObj[u].manualList),parentId:t.creTypeArr[u].parentId,parentName:t.creTypeArr[u].parentNameSave,sortId:u,id:t.creDeletObj[u].id,isValid:1}):(t.creTypeArr[u].sortId=u,t.creTypeArr[u].id=t.creTypeArr[u].id?t.creTypeArr[u].id:"",t.creTypeArr[u].isValid=t.creTypeArr[u].id?1:"",t.creTypeArr[u].parentId=t.isClassify,t.creTypeArr[u].parentName=t.creTypeArr[u].parentNameSave,t.creSubmitArr=t.creSubmitArr.concat(t.creTypeArr[u])));e.dataList=m()(t.creSubmitArr),t.getListAxios(h.a.submitInfo.url,e,function(e){if(e&&e.data&&e.data.responseObject){if(window.history.length<=1)return t.$router.push({path:"patientEduList"}),!1;t.$router.go(-1)}},h.a.submitInfo.type)},resetForm:function(e){if(this.$refs[e].resetFields(),window.history.length<=1)return this.$router.push({path:"/"}),!1;this.$router.go(-1)},getBaseInfo:function(){var n=this,e={isValid:1,manualId:n.manualId};n.getListAxios(h.a.manualBaseInfo.url,e,function(e){if(e&&e.data&&e.data.responseObject&&e.data.responseObject.responseData&&e.data.responseObject.responseData.dataList){var t=e.data.responseObject.responseData.dataList[0];n.ruleForm.name=t.manualName,n.ruleForm.people=t.adaptCrowd,n.ruleForm.expert=t.expertsSay,n.ruleForm.peopleId=t.recommender,n.ruleForm.property=t.openState,n.ruleForm.state=t.state,n.imgData01.src=t.attUrl,n.imgData01.id=t.attId,n.imgData01.attWidth=t.attWidth,n.imgData01.attHeight=t.attHeight,n.imgData01.attSize=t.attSize,n.imgData01.attName=t.fileName?t.fileName.substring(0,t.fileName.indexOf(".")):"",n.imgData01.sendUrl=t.attUrls,n.imgData01.attFormat=t.attFormat,n.isClassify=t.isClassify}},h.a.manualBaseInfo.type)},typeContentFn:function(){var i=this;i.creLoadingFlag=!0;var e={isValid:1,firstResult:0,maxResult:20,manualId:i.manualId,isClassify:i.isClassify,sortType:3};i.getListAxios(h.a.getConUrl.url,e,function(e){if(i.creLoadingFlag=!1,e&&e.data&&e.data.responseObject&&e.data.responseObject.responseData&&e.data.responseObject.responseData.dataList){var t=e.data.responseObject.responseData.dataList;for(var n in t){for(var a in t[n].manualList)t[n].manualList[a].nodeNum=parseInt(a)+1;t[n].parentNameSave=JSON.parse(m()(t[n].parentName))}i.creTypeArr=i.creTypeArr.concat(t),i.creTypeOldArr=JSON.parse(m()(i.creTypeOldArr.concat(t)))}i.manualId&&(i.typeState=i.isClassify,0===i.typeState?i.createTypeBtn=!0:i.createTypeBtn=!1,i.showTypeList=!0,i.chooseTypeBtn=!1)},h.a.getConUrl.type)},majorArrFn:function(){var r=this;r.getListAxios(h.a.getLabelListNew.url,{isValid:1,firstResult:0,maxResult:99,labelType:0,treeLevel:1},function(e){if(e&&e.data&&e.data.responseObject&&e.data.responseObject.items){var i=e.data.responseObject.items;if(r.majorArrList=r.majorArrList.concat(i),r.manualId){var t={manualId:r.manualId,isValid:1,firstResult:0,maxResult:20,labelType:1};r.getListAxios(h.a.getLabelUrl.url,t,function(e){if(e&&e.data&&e.data.responseObject&&e.data.responseObject.responseData&&e.data.responseObject.responseData.dataList){var t=e.data.responseObject.responseData.dataList;if(r.majorOldArrList=r.majorOldArrList.concat(t),0<t.length)for(var n in i)for(var a in t)t[a].labelId===i[n].labelId.toString()&&(r.ShowMajCho=!0,r.ruleForm.major=1,i[n].isExist=1,r.majorToSubmit=!0,r.major.push(t[a]))}},h.a.getLabelUrl.type)}}},h.a.getLabelList.type)},illArrFn:function(){var i=this,e={manualId:i.manualId,isValid:1,firstResult:0,maxResult:20,labelType:2};i.getListAxios(h.a.getLabelUrl.url,e,function(e){if(e&&e.data&&e.data.responseObject&&e.data.responseObject.responseData&&e.data.responseObject.responseData.dataList){var t=e.data.responseObject.responseData.dataList;for(var n in i.illOldArrList=i.illOldArrList.concat(t),i.illArrList)for(var a in i.illOldArrList)i.illOldArrList[a].labelId===i.illArrList[n].labelId&&(i.illArrList[n].isExist=1,i.ShowIllCho=!0,i.ruleForm.illness=1,i.illnessToSubmit=!0,i.illness.push(i.illOldArrList[a]))}},h.a.getLabelUrl.type)},showMajorFn:function(){var e=this;for(var t in e.isShowMajor=!0,e.majorToSubmit=!1,e.majorArrList)for(var n in e.majorArrList[t].isExist=0,e.major){if(e.majorArrList[t].labelId===e.major[n].labelId){e.majorArrList[t].isExist=1,e.majorToSubmit=!0;break}n===e.major.length-1&&(e.majorArrList[t].isExist=0),this.$set(e.majorArrList,t,e.majorArrList[t])}},majorCli:function(e){var t=this;for(var n in 0===t.majorArrList[e].isExist?t.majorArrList[e].isExist=1:t.majorArrList[e].isExist=0,this.$set(t.majorArrList,e,t.majorArrList[e]),t.majorArrList){if(1===t.majorArrList[n].isExist){t.majorToSubmit=!0;break}parseInt(n)===parseInt(t.majorArrList.length-1)&&(t.majorToSubmit=!1)}},majorSub:function(){var e=this;if(e.majorToSubmit){for(var t in e.majorActiveList="",e.choMajor=[],e.majorNewArrList=[],e.major=[],e.majorArrList)1===e.majorArrList[t].isExist&&e.major.push(e.majorArrList[t]);e.isShowMajor=!1,e.ShowMajCho=!0,e.ruleForm.major=1}},showIllnessFn:function(){var e=this;for(var t in e.isShowIllness=!0,e.illArrList)for(var n in e.illArrList[t].isExist=0,e.illness){if(e.illArrList[t].labelId===e.illness[n].labelId){e.illArrList[t].isExist=1,e.illnessToSubmit=!0;break}n===e.illness.length-1&&(e.illArrList[t].isExist=0)}},illnessCli:function(e){var t=this;for(var n in 0===t.illArrList[e].isExist?t.illArrList[e].isExist=1:t.illArrList[e].isExist=0,t.illArrList){if(1===t.illArrList[n].isExist){t.illnessToSubmit=!0;break}parseInt(n)===parseInt(t.illArrList.length-1)&&(t.illnessToSubmit=!1)}},illnessSub:function(){var e=this;if(e.illnessToSubmit)for(var t in e.ShowIllCho=!0,e.isShowIllness=!1,e.ruleForm.illness=1,e.illness=[],e.illArrList)1===e.illArrList[t].isExist&&e.illness.push(e.illArrList[t])},typeCho:function(e){this.isNoClass=0===e?!(this.isClass=!0):!(this.isClass=!1),this.isClassify=e},chooseSub:function(){var e=this;e.ruleForm.addDesc=1,(e.isClass||e.isNoClass)&&(e.isShowType=!1,e.chooseTypeBtn=!1,e.showTypeList=!0,e.creTypeArr.push({manualList:[]}),e.typeState=e.isClassify,0===e.typeState?e.createTypeBtn=!0:e.createTypeBtn=!1)},creatTypeBtn:function(){this.showTypeList=!0,this.creTypeArr.push({manualList:[]})},addTypeBtnCli:function(e){this.currentPage=1,this.addTypeBtn(e)},addTypeBtn:function(s){var o=this;o.isShowAdd=!0,(s||0===s)&&(o.addTypeInd=s);var e={isValid:1,firstResult:(o.currentPage-1)*o.pageSize,maxResult:o.pageSize,educationId:o.ruleForm.paEduId?o.ruleForm.paEduId:void 0,educationNameLike:o.ruleForm.paEduName?o.ruleForm.paEduName:void 0,manualId:o.manualId?o.manualId:void 0,parentId:o.creTypeArr[s].id};o.getListAxios(h.a.getEducationList.url,e,function(e){if(e&&e.data&&e.data.responseObject&&e.data.responseObject.responseData&&e.data.responseObject.responseData.dataList){var t=e.data.responseObject.responseData.dataList;if(o.typeListArr=[],o.totalCount=e.data.responseObject.responseData.totalNum,t&&0<t.length)for(var n=0;n<t.length;n++){var a=t[n],i={educationId:a.educationId,educationName:a.educationName,isReprint:a.isReprint,educationContentType:a.educationContentType,isValid:0,isExist:0,refCustomerId:a.refCustomerId,authNameList:a.authNameList,isValided:a.isValid};if(o.creTypeArr[s]&&o.creTypeArr[s].manualList)for(var r=0;r<o.creTypeArr[s].manualList.length;r++){if(o.creTypeArr[s].manualList[r].educationId===a.educationId){i.isExist=1;break}i.isExist=0}o.typeListArr.push(i)}}else o.typeListArr=[],o.currentPage=1,o.totalCount=0},h.a.getEducationList.type)},searchAddList:function(){this.currentPage=1,this.addTypeBtn(this.addTypeInd)},handleSizeChange:function(e){this.pageSize=e,this.addTypeBtn(this.addTypeInd)},handleCurrentChange:function(e){this.currentPage=e,this.addTypeBtn(this.addTypeInd)},cliEditBtn:function(e){document.getElementsByClassName("addClass")[e].getElementsByTagName("input")[0].removeAttribute("disabled"),document.getElementsByClassName("addClass")[e].classList.remove("is-disabled"),document.getElementsByClassName("addClassTop")[e].getElementsByTagName("button")[0].setAttribute("style","display:inline-block"),document.getElementsByClassName("addClassTop")[e].getElementsByClassName("editBtn")[0].setAttribute("style","display:none")},addCliFn:function(e,t){var n=this;if(1!==t[e].isExist){if(t[e].isExist=1,t[e].sortId=parseInt(n.creTypeArr[n.addTypeInd].manualList.length+1),t[e].nodeNum=parseInt(n.creTypeArr[n.addTypeInd].manualList.length+1),n.creTypeOldArr[n.addTypeInd]&&n.creTypeOldArr[n.addTypeInd].manualList)for(var a=0;a<n.creTypeOldArr[n.addTypeInd].manualList.length;a++){if(n.creTypeOldArr[n.addTypeInd].manualList[a].educationId===t[e].educationId){t[e].isValid=1,t[e].id=n.creTypeOldArr[n.addTypeInd].manualList[a].id;break}a===n.creTypeOldArr[n.addTypeInd].manualList.length-1&&(t[e].id="",t[e].isValid="")}n.creTypeArr[n.addTypeInd].manualList.push(t[e])}},cliSaveBtn:function(e){document.getElementsByClassName("addClass")[e].getElementsByTagName("input")[0].setAttribute("disabled","disabled"),document.getElementsByClassName("addClassTop")[e].getElementsByTagName("input")[0].setAttribute("data-val",document.getElementsByClassName("addClass")[e].getElementsByTagName("input")[0].value),document.getElementsByClassName("addClassTop")[e].getElementsByTagName("button")[0].setAttribute("style","display:none"),document.getElementsByClassName("addClassTop")[e].getElementsByClassName("editBtn")[0].setAttribute("style","display:inline-block"),document.getElementsByClassName("addClassTop")[e].getElementsByTagName("input")[0].setAttribute("data-val",document.getElementsByClassName("addClassTop")[e].getElementsByTagName("input")[0].value),this.creTypeArr[e].parentNameSave=document.getElementsByClassName("addClassTop")[e].getElementsByTagName("input")[0].value},deleTypeBtn:function(n){var a=this;this.$allin_confirm({title:"提示",content:"确定要删除吗？",done:function(){var e=a.creTypeArr[n];if(a.creTypeArr.splice(n,1,[]),a.creTypeOldArr[n]){for(var t in e.manualList)e.manualList[t].isValid=0;a.creDeletAll.push(e)}}})},handleDelete:function(n,a,i){var r=this;this.$allin_confirm({title:"提示",content:"确定要删除吗？",done:function(){if(r.creTypeArr[i].manualList.splice(n,1),a.isValid=0,r.creTypeOldArr[i])for(var e in r.creTypeOldArr[i].manualList)a.educationId===r.creTypeOldArr[i].manualList[e].educationId&&(r.creDeletObj.hasOwnProperty(i)||(r.creDeletObj[i]={manualList:[]}),r.creDeletObj[i].id=r.creTypeArr[i].id,r.creDeletObj[i].manualList.push(a));for(var t=0;t<r.creTypeArr[i].manualList.length;t++)r.creTypeArr[i].manualList[t].nodeNum=t+1}})},forType:function(e){return 1===e.educationContentType?"视频":2===e.educationContentType?"语音":3===e.educationContentType?"图片":4===e.educationContentType?"综合":5===e.educationContentType?"纯视频":"文章"},forVal:function(e){return"有效"},forRep:function(e){return"1 "===e.isReprint?"能转载":"0"===e.isReprint?"不能转载":"能转载"},inputIdFn:function(e,t,n,a){this.creTypeArr[e].manualList[t].sortId=a},inputTipFn:function(e,t,n,a){this.creTypeArr[e].manualList[t].tipsContent=a},chooseTxt:function(){this.isShowType=!0,this.isClass=!1,this.isNoClass=!1},chooseMajor:function(e){this.isShowMajor=e},chooseIllness:function(e){this.isShowIllness=e},showTypeFn:function(e){this.isShowType=e},showAddFn:function(e){this.isShowAdd=e},getListAxios:function(e,t,n,a,i){var r=this;o.default.openLoading("加载中..."),"post"===a?Object(s.a)({method:"post",url:e,data:t}).then(function(e){n&&n(e),r.creLoadingFlag||o.default.closeLoading()}).catch(function(e){i&&i(),r.creLoadingFlag||o.default.closeLoading()}):Object(s.a)({method:"get",url:e,params:t}).then(function(e){n&&n(e),r.creLoadingFlag||o.default.closeLoading()}).catch(function(e){o.default.closeLoading(),i&&i(),r.creLoadingFlag||o.default.closeLoading()})}},filters:{},mounted:function(){var e=this,t=Object(l.b)("/patientEduList");e.isAdmin=721===t,e.isAdmin?(e.majorArrFn(),e.manualId&&(e.typeContentFn(),e.illArrFn(),e.getBaseInfo())):e.$router.push({path:"patientEduList"})},destroyed:function(){o.default.goBack()}},p=(n(801),n(58)),c=Object(p.a)(d,a,[],!1,null,null,null);c.options.__file="src/views/patientEducationBook/patientEduDesc.vue";t.default=c.exports},526:function(e,t,n){"use strict";var w=[{menuId:10651,router:"/memberAudit",icon:"icon-home-01.png",desc:"审核管理"},{menuId:10652,router:"/memberAudit",icon:"icon-home-02.png",desc:"审核查询"},{menuId:10653,router:"/memberMerge",icon:"icon-home-03.png",desc:"会员合并"},{menuId:10654,router:"/memberMerge",icon:"icon-home-01.png",desc:"合并查询"},{menuId:10703,router:"/informationMaintenance",icon:"icon-home-02.png",desc:"认证提示"},{menuId:10751,router:"/speciality",icon:"icon-home-01.png",desc:"专业入口"},{menuId:10752,router:"/indexColumn",icon:"icon-home-02.png",desc:"首页栏目"},{menuId:10754,router:"/columnManager",icon:"icon-home-01.png",desc:"栏目管理"},{menuId:10801,router:"/boneCloud",icon:"icon-home-03.png",desc:"骨人云"},{menuId:10755,router:"/boneCloudBanner",icon:"icon-home-02.png",desc:"骨人云活动后台"},{menuId:10802,router:"/videoNodesExamine",icon:"icon-home-01.png",desc:"视频笔记"},{menuId:10803,router:"/kitsList",icon:"icon-home-02.png",desc:"锦囊管理"},{menuId:10753,router:"/searchHotDict",icon:"icon-home-03.png",desc:"热词管理"},{menuId:10756,router:"/searchComplexDict",icon:"icon-home-01.png",desc:"搜索词管理"},{menuId:10851,router:"/patientEduList",icon:"icon-home-01.png",desc:"患教手册"},{menuId:10852,router:"/userPatientEduList",icon:"icon-home-03.png",desc:"用户患教手册"},{menuId:10656,router:"/asiaManager",icon:"icon-home-03.png",desc:"Asia会员管理"},{menuId:10757,router:"/indexBackground",icon:"icon-home-01.png",desc:"首页背景图"},{menuId:10951,router:"/patientsEvaluation",icon:"icon-home-01.png",desc:"患者端管理-患者评价"},{menuId:10901,router:"/advertisingMaterials",icon:"icon-home-01.png",desc:"广告管理-广告物料"},{menuId:10902,router:"/recommendAdvertisement",icon:"icon-home-02.png",desc:"广告管理-首页-推荐广告管理"},{menuId:10903,router:"/curriculumAdvertisement",icon:"icon-home-03.png",desc:"广告管理-首页-课程广告管理"},{menuId:10904,router:"/liveBroadcastAdvertisement",icon:"icon-home-01.png",desc:"广告管理-首页-直播广告管理"},{menuId:10905,router:"/eliteClubAdvertisement",icon:"icon-home-03.png",desc:"广告管理-首页-直播广告管理"},{menuId:10758,router:"/productAnchorPoint",icon:"icon-home-03.png",desc:"运营配置-产品锚点"},{menuId:10708,router:"/companyInformationMaintenance",icon:"icon-home-01.png",desc:"资源管理>认证资源>厂商认证提示"},{menuId:10657,router:"/companyAudit",icon:"icon-home-02.png",desc:"客户关系管理>用户管理>厂商审核管理"},{menuId:13004,router:"/payCoursesIndex",icon:"icon-home-02.png",desc:"CMS管理-运营配置-付费课程管理"},{menuId:13005,router:"/collegeClass",icon:"icon-home-03.png",desc:"CMS管理-运营配置-唯医学院频道"},{menuId:10956,router:"/allinmdSchoolAdvertisement",icon:"icon-home-01.png",desc:"CMS管理-广告管理-唯医学院广告管理"},{menuId:10957,router:"/terminalAdvertisement",icon:"icon-home-02.png",desc:"CMS管理-广告管理-终端页广告管理"},{menuId:13001,router:"/createCode",icon:"icon-home-03.png",desc:"营销工具-兑换码-兑换码创建"},{menuId:13002,router:"/codeBatch",icon:"icon-home-01.png",desc:"营销工具-兑换码-兑换码批次查询"},{menuId:13003,router:"/codeNumber",icon:"icon-home-02.png",desc:"营销工具-兑换码-兑换码码号查询"},{menuId:12001,router:"/createCouponSelectList",icon:"icon-home-03.png",desc:"营销工具-优惠券-优惠券创建"},{menuId:12002,router:"/couponBatchList",icon:"icon-home-01.png",desc:"营销工具-优惠券-优惠券批次查询"},{menuId:12003,router:"/couponVoucherList",icon:"icon-home-02.png",desc:"营销工具-优惠券-优惠券券号查询"},{menuId:11001,router:"/commodityOrderList",icon:"icon-home-03.png",desc:"交易-订单-商品订单"}];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var I={ROLE_ADMIN:721,ROLE_USER:722};function a(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];if(a&&a.oneTree&&a.childMap&&0<a.childMap.length)for(var i=a.childMap,r=0;r<i.length;r++){var s={};s.title=a.oneTree.systemName;var o=a.childMap[r];if(o&&o.twoTree&&o.childMap&&0<o.childMap.length){var l=o.childMap;s.title+=">",s.title+=o.twoTree.menuName,s.menuItemList=[];for(var d=0;d<l.length;d++){var p=l[d],c={};if(p&&p.threeTree){c.name=p.threeTree.menuName,c.menuId=p.threeTree.menuId;var u=p.threeTree.pageOperation.split(","),m=c.pageOperation=null;if(0<u.length&&u[0]){for(var h=0;h<u.length;h++)u[h]&&(c.pageOperation=u[h],c.pageOperation==I.ROLE_ADMIN&&(m=I.ROLE_ADMIN));c.pageOperation=m||c.pageOperation}s.menuItemList.push(c)}}0<s.menuItemList.length&&t.push(s)}}}for(var g=0;g<t.length;g++)for(var b=t[g].menuItemList,f=0;f<b.length;f++)for(var x=b[f],v=0;v<w.length;v++)x.menuId==w[v].menuId&&(x.router=w[v].router,x.icon="/static/images/icons/"+w[v].icon);return t}function i(e){for(var t=JSON.parse(localStorage.getItem("menuList")),n=0;n<t.length;n++)for(var a=t[n].menuItemList,i=0;i<a.length;i++)if(e==a[i].router)return a[i].pageOperation;return null}},535:function(e,t,n){var a=n(547);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(156)(a,i);a.locals&&(e.exports=a.locals)},545:function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},546:function(e,t,n){"use strict";var a=n(535);n.n(a).a},547:function(e,t,n){(e.exports=n(155)(!1)).push([e.i,'\n.uploadContainer .addImg[data-v-b1f51746] {\n  cursor: pointer;\n  width: 100px;\n  height: 100px;\n  position: relative;\n  text-align: center;\n  background: #EDF1FF;\n  border-radius: 3px;\n}\n.uploadContainer .addImg.hasImg[data-v-b1f51746] {\n    border: none;\n}\n.uploadContainer .addImg .closeImg[data-v-b1f51746] {\n    position: absolute;\n    top: 0;\n    right: 0;\n    background: #000000;\n    width: 20px;\n    height: 20px;\n    font-size: 20px;\n    line-height: 20px;\n    text-align: center;\n    display: block;\n    color: #fff;\n    cursor: pointer;\n}\n.uploadContainer .addImg .addImg[data-v-b1f51746] {\n    /*display: inline-block;*/\n    width: 38px;\n    height: 31px;\n    /*vertical-align: middle;*/\n    background: url("/static/images/upload/addImg.png") no-repeat;\n    /*margin: 45px 0 6px 0;*/\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translateX(-50%) translateY(-50%);\n}\n.uploadContainer .addImg img[data-v-b1f51746] {\n    width: 100px;\n    height: 100px;\n}\n.uploadContainer input[data-v-b1f51746] {\n  width: 100px;\n  height: 100px;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  position: absolute;\n  opacity: 0;\n}\n.uploadContainer .ev-bigImg[data-v-b1f51746] {\n  position: fixed;\n  right: 0;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 5;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n.uploadContainer .ev-bigImg img[data-v-b1f51746] {\n    max-width: 80%;\n    max-height: 80%;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n}\n',""])},550:function(e,t,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"uploadContainer"},[n("div",{staticClass:"addImg",class:{hasImg:t.dafaultSrc}},[t.dafaultSrc?n("img",{attrs:{src:t.dafaultSrc},on:{mouseover:function(e){t.bigImgShow(t.dafaultSrc)}}}):t._e(),t._v(" "),t.dafaultSrc?t._e():n("i",{staticClass:"addImg"}),t._v(" "),t.dafaultSrc?n("i",{staticClass:"closeImg",on:{click:function(e){t.itemClose()}}},[t._v("×")]):t._e(),t._v(" "),t.dafaultSrc?t._e():n("input",{ref:"referenceUpload",staticClass:"ev-uploadImg",attrs:{type:"file",name:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:t.inputChange}})]),t._v(" "),t.bigImgDialogVisible?n("div",{staticClass:"ev-bigImg",on:{click:t.closeBigImg}},[n("img",{attrs:{src:t.bigImgPath}})]):t._e()])};a._withStripped=!0;var i=n(69),r=n(59),s={props:["formData","imgData"],data:function(){return{dafaultSrc:this.imgData&&this.imgData.src||"",prevFile:"",fileSize:2097152,imgpk:{responsePk:"",deletId:""},bigImgPath:"",bigImgDialogVisible:!1}},computed:{imgSrc:function(){return this.imgData&&this.imgData.src}},watch:{imgSrc:function(){this.dafaultSrc=this.imgSrc}},methods:{closeBigImg:function(){this.bigImgDialogVisible=!1},bigImgShow:function(e){e&&(this.bigImgPath=e,this.bigImgDialogVisible=!0)},itemClose:function(){this.imgpk.attUrl="",this.$emit("imgpk",this.imgpk)},inputChange:function(e){var t=this.$refs.referenceUpload.files[0];if(t){if(t.size>this.fileSize)return alert("上传失败，请上传不大于2M的图片！"),!1;if(!/(jpg)|(jpeg)|(png)$/i.test(t.type))return alert("格式不支持，请选择jpg、png、jpeg"),!1;this.prevFile=t,this.dafaultSrc=this.localURL(t),this.loading=this.$loading({lock:!0,text:"图片上传中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),this.compressImg(t)}else this.prevFile&&this.localURL(this.prevFile)},localURL:function(e){var t=null;return null!=window.createObjectURL?t=window.createObjectURL(e):null!=window.URL?t=window.URL.createObjectURL(e):null!=window.webkitURL&&(t=window.webkitURL.createObjectURL(e)),t},compressImg:function(t){var n=new FileReader,a=new Image,i=this;n.readAsDataURL(t),n.onload=function(e){a.src=e.target.result,t.size<i.fileSize&&(i.formData.extName=t.type.split("/")[1],i.formData.fileContent=n.result.split(",")[1],i.formData.isValid=0,i.formData.waterType=2,i.formData.fileName=t.name?t.name.substring(0,t.name.indexOf(".")):"",i.uploadAction(i.formData))}},uploadAction:function(t){var n=this;r.a.post(i.a.uploadImgPat.url,t).then(function(e){e&&e.data.responseObject&&e.data.responseObject.responseData&&e.data.responseObject.responseStatus?(n.loading.close(),e=e.data,n.imgpk.attUrl=e.responseObject.responseData.attUrl,n.imgpk.responsePk=e.responseObject.responsePk,n.imgpk.attName=e.responseObject.responseData.attName,n.imgpk.extName=t.extName,n.imgpk.attWidth=e.responseObject.responseData.attWidth,n.imgpk.attHeight=e.responseObject.responseData.attHeight,n.imgpk.attSize=e.responseObject.responseData.attSize,n.imgpk.sendUrl=e.responseObject.responseData.attUrls,n.imgpk.attFormat=e.responseObject.responseData.attFormat,n.$emit("imgpk",n.imgpk)):(n.loading.close(),alert("上传失败"))})}}},o=(n(546),n(58)),l=Object(o.a)(s,a,[],!1,null,"b1f51746",null);l.options.__file="src/components/common/upload/uploadImgPatient.vue";t.a=l.exports},605:function(e,t,n){var a=n(802);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(156)(a,i);a.locals&&(e.exports=a.locals)},801:function(e,t,n){"use strict";var a=n(605);n.n(a).a},802:function(e,t,n){var a=n(545);(e.exports=n(155)(!1)).push([e.i,'\n@charset "UTF-8";\n.patientEduContent {\n  width: 1200px;\n  margin: 0 auto;\n}\n.TopTitle {\n  font-size: 20px;\n  font-weight: 600;\n  color: #2c343a;\n  line-height: 20px;\n  margin: 32px 0 20px 0;\n}\n.patientEduDesc {\n  font-size: 0;\n  /*width: 1200px;*/\n  margin: 36px auto 36px;\n  padding: 36px 0 5px;\n  background: #ffffff;\n  /*textArea样式*/\n  /*上传图片*/\n  /*提示性文字*/\n  /*添加内容按钮*/\n  /*添加分类*/\n  /* 专业、发病阶段*/\n  /*单选按钮点击*/\n  /*提交按钮*/\n}\n.patientEduDesc input, .patientEduDesc textarea {\n    background: #f7f9fc;\n    border-radius: 3px;\n}\n.patientEduDesc .el-table .cell {\n    width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    -webkit-line-clamp: 1;\n    -webkit-box-orient: vertical;\n    white-space: nowrap;\n    font-size: 14px;\n    font-weight: 400;\n    color: #333333;\n    line-height: 14px;\n}\n.patientEduDesc .width300 {\n    width: 642px;\n}\n.patientEduDesc textarea {\n    width: 642px;\n    height: 90px;\n    font-family: "Microsoft YaHei";\n}\n.patientEduDesc .el-textarea__inner {\n    font-family: "Microsoft YaHei";\n    resize: none;\n}\n.patientEduDesc .patUploadImg {\n    font-size: 14px;\n}\n.patientEduDesc .tipTxt {\n    font-size: 14px;\n    font-weight: 400;\n    color: #999999;\n    line-height: 14px;\n    margin-left: 8px;\n}\n.patientEduDesc .addDesc button {\n    width: 83px;\n    height: 32px;\n    background: #edf1ff;\n    border-radius: 3px;\n    cursor: pointer;\n    font-size: 12px;\n    font-weight: 400;\n    color: #4b67d6;\n    line-height: 12px;\n}\n.patientEduDesc .addClassContent {\n    position: relative;\n    width: 956px;\n    background: rgba(237, 241, 255, 0.6);\n    border-radius: 3px;\n    padding: 20px 15px 31px;\n    font-size: 0;\n}\n.patientEduDesc .addClassContent .triangleUp {\n      width: 0;\n      height: 0;\n      border-width: 0 10px 10px;\n      border-style: solid;\n      border-color: transparent transparent #EDF1FF;\n      /*透明 透明  灰*/\n      margin: -30px 14px;\n      position: absolute;\n}\n.patientEduDesc .addClassContent .addClassTop {\n      display: inline-block;\n      margin-bottom: 15px;\n}\n.patientEduDesc .addClassContent .addClassTop .addClass {\n        width: 140px;\n        border-radius: 3px;\n        vertical-align: top;\n}\n.patientEduDesc .addClassContent .addClassTop .addClass input {\n          height: 32px;\n          background: white;\n}\n.patientEduDesc .addClassContent .addClassTop .editBtn {\n        width: 18px;\n        height: 18px;\n        background: url('+a(n(803))+') center center no-repeat;\n        margin-left: 9px;\n        cursor: pointer;\n        vertical-align: middle;\n        display: inline-block;\n}\n.patientEduDesc .addClassContent .addClassTop button {\n        width: 56px;\n        height: 32px;\n        background: #4b67d6;\n        font-size: 14px;\n        font-weight: 500;\n        color: white;\n        line-height: 14px;\n        border-radius: 3px;\n        margin-left: 4px;\n        vertical-align: middle;\n        cursor: pointer;\n}\n.patientEduDesc .addClassContent .addClassTop .el-icon-delete, .patientEduDesc .addClassContent .addClassTop .el-icon-plus {\n        position: absolute;\n        top: 20px;\n        width: 99px;\n        height: 32px;\n        border-radius: 3px;\n        font-size: 14px;\n        font-weight: 500;\n        line-height: 32px;\n        text-align: center;\n        cursor: pointer;\n}\n.patientEduDesc .addClassContent .addClassTop .el-icon-delete {\n        right: 125px;\n        background: white;\n        border: 1px solid #eb3b46;\n        color: #eb3b46;\n}\n.patientEduDesc .addClassContent .addClassTop .el-icon-plus {\n        right: 15px;\n        background: white;\n        border: 1px solid #4b67d6;\n        color: #4b67d6;\n}\n.patientEduDesc .addClassContent .tabContent .tip input {\n      height: 30px;\n}\n.patientEduDesc .addClassContent .tabContent .tip textarea {\n      width: 162px;\n      height: 30px;\n      max-height: 47px;\n}\n.patientEduDesc .addClassContent .tabContent .el-table thead {\n      font-size: 14px;\n      font-weight: 500;\n      color: #111111;\n      line-height: 14px;\n}\n.patientEduDesc .addClassContent .tabContent .el-table__row td:last-child {\n      border-left: 1px solid #ebeef5;\n      border-bottom: none;\n}\n.patientEduDesc .addClassContent .tabContent .el-table__row td:last-child button {\n        width: 74px;\n        height: 27px;\n        border-radius: 3px;\n        border: 1px solid #eb3b46;\n        background-color: #ffffff;\n        color: #f00;\n}\n.patientEduDesc .addDescContent {\n    background: rgba(237, 241, 255, 0.6);\n    border-radius: 3px;\n    padding: 20px 15px;\n    margin-top: 10px;\n    display: table;\n    max-width: 956px;\n}\n.patientEduDesc .addDescContent .descItem {\n      font-size: 14px;\n      font-weight: 400;\n      color: #686d7d;\n      line-height: 20px;\n      background: white;\n      border-radius: 3px;\n      border: 1px solid #a1a8c0;\n      padding: 5px 15px;\n      display: inline-block;\n      margin-right: 15px;\n}\n.patientEduDesc .addDescContent .triangleUp {\n      width: 0;\n      height: 0;\n      border-width: 0 10px 10px;\n      border-style: solid;\n      border-color: transparent transparent #EDF1FF;\n      /*透明 透明  灰*/\n      margin: -30px 14px;\n      position: absolute;\n}\n.patientEduDesc .el-radio__input.is-checked .el-radio__inner {\n    border-color: #4B67D6;\n    background: #4B67D6;\n}\n.patientEduDesc .el-radio__input.is-checked + .el-radio__label {\n    color: #4B67D6;\n}\n.patientEduDesc .el-radio {\n    color: #999999;\n}\n.patientEduDesc .submitBtn {\n    width: 140px;\n    height: 32px;\n    background: #3846dc;\n    border-radius: 3px;\n    line-height: 0;\n    font-size: 14px;\n    font-weight: 500;\n    color: white;\n}\n.patientEduDesc .cancleBtn {\n    width: 140px;\n    height: 32px;\n    background: #a1a8c0;\n    border-radius: 3px;\n    font-size: 14px;\n    font-weight: 500;\n    color: white;\n    line-height: 0;\n}\n.patientEduDesc .el-form-item.is-success .el-input__inner, .patientEduDesc .el-form-item.is-success .el-input__inner:focus, .patientEduDesc .el-form-item.is-success .el-textarea__inner, .patientEduDesc .el-form-item.is-success .el-textarea__inner:focus {\n    border-color: #e6e6e8;\n}\n\n/*三个选择弹层样式*/\n/*父层（可共用）*/\n.selectBox {\n  position: fixed;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 2;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n.selectMajorCon {\n  width: 455px;\n  min-height: 342px;\n  background: white;\n  border-radius: 4px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  overflow: hidden;\n}\n\n/*关闭按钮（可共用）*/\n.closeBtn {\n  position: absolute;\n  right: 14px;\n  top: 14px;\n  width: 20px;\n  height: 20px;\n  background: url("/static/images/icons/icon-close-gray.png") no-repeat;\n  background-size: contain;\n  cursor: pointer;\n}\n\n/*标题（可共用）*/\nh3.title {\n  font-size: 20px;\n  font-weight: 600;\n  color: #222222;\n  line-height: 20px;\n  margin-top: 35px;\n  text-align: center;\n}\n\n/*确定按钮（可共用）*/\n.sureBtn {\n  height: 49px;\n  width: 100%;\n  background: #eceef2;\n  font-size: 17px;\n  font-weight: 500;\n  color: white;\n  line-height: 49px;\n  text-align: center;\n  position: absolute;\n  bottom: 0;\n  cursor: pointer;\n}\n.sureBtn.active {\n  background: #4b67d6;\n}\n\n/*专业列表*/\n.majorList {\n  padding: 28px 0 59px 30px;\n}\n.majorList li {\n  cursor: pointer;\n  display: inline-block;\n  vertical-align: middle;\n  width: 85px;\n  height: 30px;\n  box-sizing: border-box;\n  border-radius: 3px;\n  border: 1px solid #a1a8c0;\n  margin: 15px 15px 0 0;\n  text-align: center;\n  line-height: 30px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #686d7d;\n  overflow: hidden;\n  /*padding: 0 15px;*/\n}\n.majorList li.active, .majorList li:hover, .majorList li:active {\n  background: #4b67d6;\n  border: 1px solid rgba(0, 0, 0, 0);\n  font-weight: 500;\n  color: white;\n}\n\n/*选择疾病*/\n/*内容区*/\n.selectDiseaseCon {\n  width: 445px;\n  min-height: 254px;\n  background: white;\n  border-radius: 4px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  overflow: hidden;\n}\n\n/*关闭按钮（可共用）*/\n.closeBtn {\n  position: absolute;\n  right: 14px;\n  top: 14px;\n  width: 20px;\n  height: 20px;\n  background: url("/static/images/icons/icon-close-gray.png") no-repeat;\n  background-size: contain;\n  cursor: pointer;\n}\n\n/*标题（可共用）*/\nh3.title {\n  font-size: 20px;\n  font-weight: 600;\n  color: #222222;\n  line-height: 20px;\n  margin-top: 35px;\n  text-align: center;\n}\n\n/*确定按钮（可共用）*/\n.sureBtn {\n  height: 49px;\n  width: 100%;\n  background: #eceef2;\n  font-size: 17px;\n  font-weight: 500;\n  color: white;\n  line-height: 49px;\n  text-align: center;\n  position: absolute;\n  bottom: 0;\n  cursor: pointer;\n}\n.sureBtn.active {\n  background: #4b67d6;\n}\n\n/*疾病列表*/\n.diseaseList {\n  padding: 28px 0 59px 30px;\n}\n.diseaseList li {\n  cursor: pointer;\n  display: inline-block;\n  vertical-align: middle;\n  width: 85px;\n  height: 30px;\n  box-sizing: border-box;\n  border-radius: 3px;\n  border: 1px solid #a1a8c0;\n  margin: 15px 15px 0 0;\n  text-align: center;\n  line-height: 30px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #686d7d;\n}\n.diseaseList li.active, .diseaseList li:hover, .diseaseList li:active {\n  background: #4b67d6;\n  border: none;\n  font-weight: 500;\n  color: white;\n}\n\n/*内容区*/\n.selectTypeCon {\n  width: 380px;\n  height: 254px;\n  background: white;\n  border-radius: 4px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  overflow: hidden;\n}\n\n/*关闭按钮（可共用）*/\n.closeBtn {\n  position: absolute;\n  right: 14px;\n  top: 14px;\n  width: 20px;\n  height: 20px;\n  background: url("/static/images/icons/icon-close-gray.png") no-repeat;\n  background-size: contain;\n  cursor: pointer;\n}\n\n/*标题（可共用）*/\nh3.title {\n  font-size: 20px;\n  font-weight: 600;\n  color: #222222;\n  line-height: 20px;\n  margin-top: 35px;\n  text-align: center;\n}\n\n/*标题下提示*/\np.tips {\n  font-size: 15px;\n  font-weight: 400;\n  color: #555555;\n  line-height: 15px;\n  margin-top: 8px;\n  text-align: center;\n}\n\n/*分类不分类按钮*/\n.selectBtn {\n  margin-top: 35px;\n  margin-left: 65px;\n}\n.selectBtn p {\n  display: inline-block;\n  vertical-align: middle;\n  width: 110px;\n  height: 34px;\n  border-radius: 4px;\n  border: 1px solid #a1a8c0;\n  font-size: 14px;\n  font-weight: 400;\n  color: #686d7d;\n  line-height: 34px;\n  text-align: center;\n  box-sizing: border-box;\n  margin-right: 30px;\n  cursor: pointer;\n}\n.selectBtn p:active, .selectBtn p:hover, .selectBtn p.active {\n  border: none;\n  background: #4b67d6;\n  font-weight: 500;\n  color: white;\n}\n\n/*确定按钮（可共用）*/\n.sureBtn {\n  height: 49px;\n  width: 100%;\n  background: #eceef2;\n  font-size: 17px;\n  font-weight: 500;\n  color: white;\n  line-height: 49px;\n  text-align: center;\n  position: absolute;\n  bottom: 0;\n  cursor: pointer;\n}\n.sureBtn.active {\n  background: #4b67d6;\n}\n\n/*选择内容列表弹层*/\n/*内容区*/\n.selectConBox {\n  width: 880px;\n  min-height: 579px;\n  background: white;\n  border-radius: 4px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  overflow: hidden;\n}\n\n/*关闭按钮（可共用）*/\n.closeBtn {\n  position: absolute;\n  right: 14px;\n  top: 14px;\n  width: 20px;\n  height: 20px;\n  background: url("/static/images/icons/icon-close-gray.png") no-repeat;\n  background-size: contain;\n  cursor: pointer;\n}\n\n/*标题（可共用）*/\nh3.title {\n  font-size: 20px;\n  font-weight: 600;\n  color: #222222;\n  line-height: 20px;\n  margin-top: 35px;\n  text-align: center;\n}\n.screeningBox {\n  margin-top: 32px;\n  margin-left: 30px;\n}\n\n/*筛选部分的名称label*/\n.contentName {\n  font-size: 14px;\n  font-weight: 400;\n  color: #555555;\n}\n\n/*input输入框样式重写开始*/\n.conInput {\n  width: 284px;\n  height: 32px;\n  background: #f7f9fc;\n  border-radius: 3px;\n  box-sizing: border-box;\n}\n.selectBox .el-form-item__label {\n  line-height: 32px;\n}\n.selectBox .el-input__inner {\n  height: 32px;\n  line-height: 32px;\n}\n.selectBox .el-form-item__content {\n  height: 32px;\n}\n.selectBox .el-form-item__content {\n  line-height: 32px;\n}\n.selectBox .el-form-item {\n  display: inline-block;\n}\n\n/*input输入框样式重写结束*/\n/*查询按钮*/\n.queryBtn {\n  width: 80px;\n  height: 32px;\n  border-radius: 3px;\n  border: 1px solid #4b67d6;\n  font-size: 14px;\n  font-weight: 500;\n  color: #4b67d6;\n  line-height: 30px;\n  text-align: center;\n  box-sizing: border-box;\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 25px;\n  cursor: pointer;\n}\n\n/*表单区域样式重写*/\n.selectBox .el-table__header-wrapper {\n  border-top: 1px solid #e6e6e8;\n}\n.selectBox .el-table thead {\n  font-size: 14px;\n  font-weight: 500;\n  color: #111111;\n}\n.selectBox .el-table .el-table__row td:first-child .cell {\n  padding-left: 30px;\n  width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  white-space: nowrap;\n}\n.selectBox .el-table .el-table__row td:last-child {\n  border-left: 1px solid rgba(216, 216, 216, 0.5);\n  border-bottom: 1px solid transparent;\n}\n.selectBox .el-table .el-table__row td:last-child .cell {\n  padding-left: 30px;\n}\n.selectBox .el-table th:first-child .cell {\n  padding-left: 30px;\n}\n.selectBox .el-table th:nth-last-child(2).is-leaf {\n  padding-left: 20px;\n  border-left: 1px solid rgba(216, 216, 216, 0.5);\n}\n.el-table .cell .addBtn {\n  width: 74px;\n  height: 27px;\n  border-radius: 3px;\n  border: 1px solid #4b67d6;\n  text-align: center;\n  line-height: 27px;\n  cursor: pointer;\n}\n.el-table .cell .addBtn.active {\n  border: 1px solid transparent;\n  font-size: 13px;\n  font-weight: 400;\n  color: #7e8394;\n  cursor: default;\n}\n.ev-pages {\n  text-align: center;\n  margin: 34px 0 34px;\n}\n',""])},803:function(e,t,n){e.exports=n.p+"editIcon.2dc3eab1.png"}}]);