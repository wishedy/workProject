(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{620:function(t,e,n){var i=n(833);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(156)(i,a);i.locals&&(t.exports=i.locals)},832:function(t,e,n){"use strict";var i=n(620);n.n(i).a},833:function(t,e,n){(t.exports=n(155)(!1)).push([t.i,'\n@charset "UTF-8";\n.productPoint {\n  font-size: 0;\n  width: 1200px;\n  margin: 36px auto 0;\n  background: #F6F7FA;\n}\n.productPoint .newProductPoint {\n    margin: 30px 0 30px;\n    color: #4B67D6;\n    border: 1px solid #4B67D6;\n    border-radius: 3px;\n}\n.productPoint .pointSearch {\n    position: relative;\n    width: 89%;\n    height: 32px;\n    margin-bottom: 18px;\n    line-height: 32px;\n    right: 0;\n    display: inline-block;\n    vertical-align: middle;\n}\n.productPoint .pointSearch input {\n      width: 184px;\n      height: 32px;\n      border: none;\n      border-radius: 4px;\n      position: absolute;\n      right: 74px;\n      top: 0;\n      text-indent: 6px;\n}\n.productPoint .pointSearch button {\n      width: 62px;\n      height: 32px;\n      border-radius: 4px;\n      margin-left: 12px;\n      position: absolute;\n      right: 0;\n      top: 0;\n      cursor: pointer;\n      background: url("/static/images/icons/icon-search-blue.png") no-repeat center;\n      background-size: inherit;\n      background-color: #4B67D6;\n}\n\n/*页面中列表样式*/\n.el-table th.is-leaf div {\n  font-weight: 600;\n  color: #000;\n}\n.el-table .cell {\n  width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  white-space: nowrap;\n}\nthead .is-leaf:nth-child(7) {\n  text-align: center;\n}\n.el-table__row td:last-child {\n  text-align: center;\n}\n.el-table__row td:first-child {\n  text-align: center;\n}\n\n/*列表删除按钮*/\n.delateBtn {\n  color: #ff0000;\n  cursor: pointer;\n}\n',""])},995:function(t,e,n){"use strict";n.r(e);var i=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"productPoint"},[i("div",{staticClass:"topCont"},[i("el-button",{staticClass:"el-icon-circle-plus newProductPoint",on:{click:function(t){return t.stopPropagation(),n.newPoint(t)}}},[n._v(" 新建锚点")]),n._v(" "),i("div",{staticClass:"pointSearch"},[i("input",{staticClass:"searchVal",attrs:{type:"text"}}),n._v(" "),i("button",{staticClass:"searchBtn",on:{click:n.searchVideoFn}})])],1),n._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:n.listDatas},on:{"row-click":n.newPoint}},[i("el-table-column",{attrs:{prop:"videoNum",label:"序号",width:"50"}}),n._v(" "),i("el-table-column",{attrs:{prop:"videoName",label:"视频标题",width:"360"}}),n._v(" "),i("el-table-column",{attrs:{prop:"videoId",label:"视频id",width:"160"}}),n._v(" "),i("el-table-column",{attrs:{prop:"videoAuthor",label:"作者",width:"210"}}),n._v(" "),i("el-table-column",{attrs:{prop:"publishTime",label:"发布时间",width:"160"}}),n._v(" "),i("el-table-column",{attrs:{prop:"updateTime",label:"添加锚点时间",width:"160",formatter:n.timeUpFormate}}),n._v(" "),i("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:n._u([{key:"default",fn:function(e){return[i("span",{staticClass:"delateBtn",on:{click:function(t){t.stopPropagation(),n.deleteVideoFn(e.row)}}},[n._v("删除")])]}}])})],1),n._v(" "),10<n.totalNum?i("el-pagination",{staticStyle:{"text-align":"center","margin-bottom":"20px"},attrs:{"current-page":n.currentPage,"page-sizes":[10,20,30,50,100],"page-size":n.pageSize,layout:"total, prev, pager, next, jumper, sizes",total:n.totalNum},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}}):n._e()],1)};i._withStripped=!0;var r=n(59),a=n(69),l=n(68),o={data:function(){return{listDatas:[],maxResult:10,firstResult:0,currentPage:1,pageSize:10,totalNum:0,axiosNum:0,searchParam:"",userLoginName:localStorage.getItem("userLoginName")}},methods:{handleSizeChange:function(t){this.currentPage=1,this.firstResult=0,this.maxResult=t,this.getVideoListFn()},handleCurrentChange:function(t){this.currentPage=t,this.firstResult=(t-1)*this.maxResult,this.getVideoListFn()},newPoint:function(t){1===t?this.$router.push({name:"productPointDesc"}):this.$router.push({name:"productPointDesc",query:{videoId:t.videoId}})},getVideoListFn:function(){var e=this,t={searchParam:this.searchParam?this.searchParam:void 0,firstResult:this.firstResult,maxResult:this.maxResult,sortType:1};this.getListAxios(a.a.getVideoList.url,t,function(t){t&&t.data&&t.data.responseObject&&t.data.responseObject.responseData&&t.data.responseObject.responseData.dataList&&(e.listDatas=t.data.responseObject.responseData.dataList,e.totalNum=t.data.responseObject.responseData.totalCount)})},searchVideoFn:function(){this.currentPage=1,this.firstResult=0,this.searchParam=document.getElementsByClassName("searchVal")[0].value.trim(),this.getVideoListFn()},timeUpFormate:function(t){if(t.updateTime)return t.updateTime.substring(0,19)},deleteVideoFn:function(e){var n=this;this.$allin_confirm({title:"提示",content:"确定删除此条视频么？",done:function(){var t={opUserName:n.userLoginName,videoId:e.videoId,isValid:0};n.getListAxios(a.a.getVideoListSave.url,t,function(t){t&&t.data&&t.data.responseObject&&t.data.responseObject.responseStatus?n.getVideoListFn():n.$message.error("删除失败，请重试！")},"删除失败，请重试！",a.a.getVideoListSave.type)}})},getListAxios:function(t,e,n,i,a,o){var s=this;l.default.openLoading("加载中..."),this.axiosNum++,"post"===a?Object(r.a)({method:"post",url:t,data:e}).then(function(t){s.axiosNum--,n&&n(t),s.axiosNum<=0&&l.default.closeLoading()}).catch(function(t){o&&o(),s.axiosNum--,s.axiosNum<=0&&l.default.closeLoading(),s.$allin_confirm({title:"提示",content:i||"获取失败，请刷新重试",type:"notice"})}):Object(r.a)({method:"get",url:t,params:e}).then(function(t){n&&n(t),s.axiosNum--,s.axiosNum<=0&&l.default.closeLoading()}).catch(function(t){o&&o(),s.axiosNum--,s.axiosNum<=0&&l.default.closeLoading(),s.$allin_confirm({title:"提示",content:i||"获取失败，请刷新重试",type:"notice"})})}},mounted:function(){var e=this;this.getVideoListFn(),document.onkeydown=function(t){13===t.keyCode&&(e.searchParam=document.getElementsByClassName("searchVal")[0].value.trim(),e.getVideoListFn())}},destroyed:function(){l.default.goBack()}},s=(n(832),n(58)),c=Object(s.a)(o,i,[],!1,null,null,null);c.options.__file="src/views/productAnchorPoint/productAnchorPoint.vue";e.default=c.exports}}]);