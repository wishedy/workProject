(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{622:function(t,a,e){var n=e(837);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(156)(n,o);n.locals&&(t.exports=n.locals)},836:function(t,a,e){"use strict";var n=e(622);e.n(n).a},837:function(t,a,e){(t.exports=e(155)(!1)).push([t.i,"\n.column-manager-main-container[data-v-098362bd] {\n  width: 1200px;\n  margin: 0 auto;\n  background: #F6F7FA;\n  margin-top: 32px;\n}\n.column-manager-main-container h3[data-v-098362bd] {\n    ont-family: PingFangSC-Semibold;\n    font-size: 20px;\n    color: #2C343A;\n    letter-spacing: 0;\n    line-height: 20px;\n    margin-bottom: 25px;\n}\n.column-manager-main-container .column-manager-search-area[data-v-098362bd] {\n    padding: 25px 0 0;\n    background: #ffffff;\n    box-shadow: 0 4px 10px 0 rgba(42, 53, 102, 0.04);\n    border-radius: 4px;\n    margin-bottom: 30px;\n}\n.column-manager-main-container .column-manager-search-area .el-input .el-input__inner[data-v-098362bd] {\n      background: #F7F9FC;\n      border: 1px solid #E6E6E8;\n      border-radius: 4px;\n}\n.column-manager-main-container .column-manager-search-area .column-search-submit button[data-v-098362bd]:nth-of-type(1) {\n      border: none;\n}\n.column-manager-main-container .column-manager-search-area .column-search-submit button[data-v-098362bd]:nth-of-type(2) {\n      color: #4B67D6;\n      border: 1px solid #4B67D6;\n      border-radius: 4px;\n}\n.column-manager-main-container .column-manager-button[data-v-098362bd] {\n    margin-bottom: 30px;\n}\n.column-manager-main-container .column-manager-button button[data-v-098362bd] {\n      color: #4B67D6;\n      border: 1px solid #4B67D6;\n      border-radius: 3px;\n}\n.column-manager-main-container .column-manager-button button span[data-v-098362bd] {\n        padding-right: 2px;\n}\n.column-manager-main-container .column-manager-table[data-v-098362bd] {\n    margin-bottom: 30px;\n}\n.column-manager-main-container .column-manager-table .el-table .cell[data-v-098362bd] {\n      font-family: PingFangSC-Regular;\n      font-size: 14px;\n      color: #333333;\n      letter-spacing: 0;\n      line-height: 1.5;\n}\n.column-manager-main-container .column-manager-table th.is-leaf[data-v-098362bd] {\n      font-weight: bold;\n}\n.column-manager-main-container .column-manager-table button[data-v-098362bd] {\n      width: 74px;\n      height: 28px;\n      padding: 0;\n      border: 1px solid #4B67D6;\n      border-radius: 3px;\n      font-family: PingFangSC-Regular;\n      font-size: 13px;\n      color: #4B67D6;\n      letter-spacing: 0;\n}\n.column-manager-main-container .column-manager-table button.changeState[data-v-098362bd] {\n        background: #EDF1FF;\n        border: 1px solid #4B67D6;\n        border-radius: 3px;\n        font-family: PingFangSC-Regular;\n        color: #4B67D6;\n        font-size: 13px;\n        letter-spacing: 0;\n        line-height: 1.2;\n}\n.column-manager-main-container .column-manager-table button.changeState.remove[data-v-098362bd] {\n          background: #FFEBE3;\n          border: 1px solid #FF7E4D;\n          color: #FF7E4D;\n}\n.column-manager-main-container .column-manager-table .column-table-index-btn[data-v-098362bd] {\n      background: #4B67D6;\n      border-radius: 3px;\n      font-family: PingFangSC-Regular;\n      font-size: 13px;\n      color: #FFFFFF;\n      letter-spacing: 0;\n      line-height: 13px;\n}\n.column-manager-main-container .column-manager-pagination[data-v-098362bd] {\n    float: right;\n}\n.column-manager-main-container .search-area-anthology-name[data-v-098362bd] {\n  margin-left: 22px;\n}\n.source-list .cell[data-v-098362bd] {\n  font-family: PingFangSC-Regular;\n  font-size: 14px;\n  color: #333333;\n  letter-spacing: 0;\n  line-height: 1.2;\n}\n.source-list .headerClass[data-v-098362bd] {\n  text-align: center;\n}\n.source-list .source-list-btn[data-v-098362bd] {\n  width: 74px;\n  height: 28px;\n  padding: 0;\n  border: 1px solid #4B67D6;\n  border-radius: 3px;\n  font-family: PingFangSC-Regular;\n  font-size: 13px;\n  color: #4B67D6;\n  letter-spacing: 0;\n}\n.source-list .source-list-show-type div[data-v-098362bd] {\n  color: #4B67D6;\n}\n.source-list .source-list-show-type-title div[data-v-098362bd] {\n  color: #333333;\n}\n.edit-dialog .el-dialog__header .el-dialog__title[data-v-098362bd] {\n  font-family: PingFangSC-Medium;\n  font-size: 20px;\n  color: #222222;\n  letter-spacing: 0;\n  line-height: 24px;\n  font-weight: bolder;\n}\n.edit-dialog .show-type-unselect[data-v-098362bd] {\n  margin-left: 20px;\n  color: #c0c4cc;\n  cursor: pointer;\n}\n.edit-dialog .column-course-img-tips[data-v-098362bd] {\n  color: #999999;\n}\n.submitBtn button[data-v-098362bd]:nth-of-type(1) {\n  border: none;\n}\n.submitBtn button[data-v-098362bd]:nth-of-type(2) {\n  color: #4B67D6;\n  border: 1px solid #4B67D6;\n  border-radius: 4px;\n}\n",""])},990:function(t,a,e){"use strict";e.r(a);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"column-manager-main-container"},[n("h3",[e._v("付费课程列表")]),e._v(" "),n("section",{staticClass:"column-manager-search-area"},[n("el-form",{ref:"activitySearchForm",attrs:{"label-width":"120px"},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.getTableData(t):null}}},[n("el-row",[n("el-col",{staticClass:"search-area-anthology-name",attrs:{span:8}},[n("el-form-item",{attrs:{label:"课程ID："}},[n("el-input",{model:{value:e.searchConditionData.courseId,callback:function(t){e.$set(e.searchConditionData,"courseId",t)},expression:"searchConditionData.courseId"}})],1)],1),e._v(" "),n("el-col",{staticClass:"search-area-anthology-name",attrs:{span:8}},[n("el-form-item",{attrs:{label:"课程名称："}},[n("el-input",{model:{value:e.searchConditionData.courseNameLike,callback:function(t){e.$set(e.searchConditionData,"courseNameLike",t)},expression:"searchConditionData.courseNameLike"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"上架类型："}},[n("el-select",{attrs:{placeholder:"请选择分组"},model:{value:e.searchConditionData.courseType,callback:function(t){e.$set(e.searchConditionData,"courseType",t)},expression:"searchConditionData.courseType"}},[n("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),n("el-option",{attrs:{label:"预告",value:"1"}}),e._v(" "),n("el-option",{attrs:{label:"售卖",value:"2"}})],1)],1)],1),e._v(" "),n("el-col",{attrs:{span:9}},[n("el-form-item",{attrs:{label:"创建时间："}},[n("el-date-picker",{attrs:{"default-time":["00:00:00","23:59:59"],"end-placeholder":"结束日期","range-separator":"至","start-placeholder":"开始日期",type:"daterange","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.searchConditionCreateTime,callback:function(t){e.searchConditionCreateTime=t},expression:"searchConditionCreateTime"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"商品状态："}},[n("el-select",{attrs:{placeholder:"请选择商品状态",required:"",value:""},model:{value:e.searchConditionData.courseState,callback:function(t){e.$set(e.searchConditionData,"courseState",t)},expression:"searchConditionData.courseState"}},[n("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),n("el-option",{attrs:{label:"已上架",value:"1"}}),e._v(" "),n("el-option",{attrs:{label:"未上架",value:"2"}})],1)],1)],1)],1),e._v(" "),n("el-row",[n("el-col",[n("el-form-item",{staticClass:"submitBtn",staticStyle:{float:"right","margin-right":"50px"}},[n("el-button",{on:{click:e.resetForm}},[e._v("清空条件")]),e._v(" "),n("el-button",{on:{click:e.onSubmit}},[e._v("筛选")])],1)],1)],1)],1)],1),e._v(" "),n("section",{staticClass:"column-manager-button"},[n("el-row",[n("el-col",[n("el-button",{on:{click:e.addCourse}},[n("span",{staticClass:"el-icon-circle-plus"}),e._v("创建付费课程")])],1)],1)],1),e._v(" "),n("section",{staticClass:"source-list"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"default-sort":{prop:"sortId",order:"descending"},fit:!0,"row-class-name":e.tableRowClassName}},[n("el-table-column",{attrs:{align:"center",label:"序号",prop:"index",width:"70"}}),e._v(" "),n("el-table-column",{attrs:{align:"left",label:"课程名称",prop:"courseName",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticStyle:{float:"left",width:"60px"}},[n("img",{staticStyle:{width:"52px",height:"40px"},attrs:{src:e.getImgUrl(t.row)}})]),e._v(" "),n("div",{staticStyle:{float:"left",width:"200px"}},[e._v("\n            "+e._s(t.row.courseName)+"\n          ")])]}}])}),e._v(" "),n("el-table-column",{attrs:{formatter:e.courseTypeFormatter,align:"center","header-align":"center",label:"上架类型",prop:"courseType",width:"80"}}),e._v(" "),n("el-table-column",{attrs:{align:"center","header-align":"center",label:"更新讲数",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v("已更新至"+e._s(t.row.newestNum)+"讲 (持续更新中)")])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center","header-align":"center",label:"总讲数",prop:"totalNum",width:"100"}}),e._v(" "),n("el-table-column",{attrs:{formatter:e.priceFormatter,align:"center",label:"售价",prop:"coursePrice",width:"100"}}),e._v(" "),n("el-table-column",{attrs:{formatter:e.courseStateFormatter,align:"center",label:"课程状态",prop:"courseState",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{label:"创建人",prop:"opUser",width:"100"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"创建时间",prop:"createTime",width:"170"}}),e._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(a){return[n("el-button",{staticClass:"source-list-btn",on:{click:function(t){e.editCourse(a.row)}},nativeOn:{keydown:function(t){t.preventDefault()}}},[e._v("编辑")]),e._v(" "),n("el-button",{staticClass:"source-list-btn",on:{click:function(t){e.manageContent(a.row)}},nativeOn:{keydown:function(t){t.preventDefault()}}},[e._v("内容管理")]),e._v(" "),2==a.row.courseState?n("el-button",{staticClass:"source-list-btn",on:{click:function(t){e.onSaleConfirm(a.row)}},nativeOn:{keydown:function(t){t.preventDefault()}}},[e._v("上架")]):e._e()]}}])})],1)],1),e._v(" "),n("el-row",{staticClass:"pagination",staticStyle:{margin:"20px 0"}},[n("el-col",{attrs:{offset:5,span:10}},[n("el-pagination",{directives:[{name:"show",rawName:"v-show",value:0<e.paginationData.total,expression:"paginationData.total>0"}],attrs:{"current-page":e.paginationData.currentPage,"page-size":e.paginationData.pageSize,"page-sizes":[10,20,30,40],total:e.paginationData.total,layout:"total,sizes, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)],1)],1)};n._withStripped=!0;var o=e(59),i=e(69),r=e(68),l={name:"payCoursesIndex",data:function(){return{searchConditionCreateTime:"",searchConditionData:{courseType:"",courseState:"",courseNameLike:"",courseId:"",startTime:"",endTime:"",isValid:""},paginationData:{currentPage:1,firstResult:0,maxResult:10,pageSize:10,total:0},tableData:[],rules:{}}},mounted:function(){var a=this;this.getTableData(),document.onkeydown=function(t){13==t.keyCode&&(a.editDialogData.visible||a.getTableData())}},methods:{getTableData:function(){var a=this,t={firstResult:this.paginationData.firstResult,maxResult:this.paginationData.maxResult,sortType:this.sortType,columnName:this.columnName,columnId:this.columnId};for(var e in this.searchConditionData)this.searchConditionData[e]&&(t[e]=this.searchConditionData[e]);0===this.searchConditionData.groupValue&&(t.groupValue=0),r.default.openLoading("加载中..."),Object(o.a)({url:i.a.getCoursesList.url,type:i.a.getCoursesList.type,params:t}).then(function(t){r.default.closeLoading(),a.tableData=t.data.responseObject.responseData.dataList,a.paginationData.total=t.data.responseObject.responseData.totalCount})},addCourse:function(){window.open("/#/payCourseEdit?action=add")},resetForm:function(){for(var t in this.searchConditionData)this.searchConditionData[t]="";this.searchConditionCreateTime=""},onSubmit:function(){Array.isArray(this.searchConditionCreateTime)&&0<this.searchConditionCreateTime.length?(this.searchConditionData.startTime=this.searchConditionCreateTime[0],this.searchConditionData.endTime=this.searchConditionCreateTime[1]):(this.searchConditionData.startTime="",this.searchConditionData.endTime=""),this.paginationData.currentPage=1,this.paginationData.firstResult=0,this.getTableData()},handleSizeChange:function(t){this.paginationData.maxResult=t,this.getTableData()},handleCurrentChange:function(t){this.paginationData.currentPage=t,this.paginationData.firstResult=(t-1)*this.paginationData.maxResult,this.getTableData()},courseTypeFormatter:function(t,a,e){return 1==t.courseType?"预告":"售卖"},courseStateFormatter:function(t,a,e){return 1==t.courseState?"已上架":"未上架"},priceFormatter:function(t,a,e){return"￥"+t.coursePrice+".00"},tableRowClassName:function(t){var a=t.row,e=t.rowIndex;a.index=e+1},getImgUrl:function(t){return t.collegeCourseAttachmentVOList&&0<t.collegeCourseAttachmentVOList.length?t.collegeCourseAttachmentVOList[0].attUrl:""},editCourse:function(t){window.open("/#/payCourseEdit?action=edit&id="+t.id)},manageContent:function(t){this.$router.push({path:"/payCoursesContent?id="+t.id})},onSaleConfirm:function(a){var e=this,t="";if(2==a.courseType&&0==a.newestNum)return this.$allin_confirm({title:"提示",content:"当前付费课程内容为空，请先关联内容",type:"notice",done:function(){}}),!1;t=1==a.courseType?"上架后该专栏课程仅对外展示无法销售，是否上架？":"上架后该专栏课程将对外销售，是否上架？",this.$allin_confirm({title:"提示",content:t,type:"confirm",done:function(){var t={id:a.id,courseState:1,courseType:a.courseType};Object(o.a)({url:i.a.updateCourseState.url,method:i.a.updateCourseState.type,data:t}).then(function(t){r.default.closeLoading(),e.getTableData()})}})},updateCourseState:function(){var a=this;Object(o.a)({url:i.a.getCoursesList.url,type:i.a.getCoursesList.type,params:{}}).then(function(t){r.default.closeLoading(),a.tableData=t.data.responseObject.responseData.dataList,a.paginationData.total=t.data.responseObject.totalCount})}}},s=(e(836),e(58)),c=Object(s.a)(l,n,[],!1,null,"098362bd",null);c.options.__file="src/views/payCourses/payCoursesIndex.vue";a.default=c.exports}}]);